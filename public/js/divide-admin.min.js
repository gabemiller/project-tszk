function fix_sidebar(){$("body").hasClass("fixed")&&$(".sidebar").slimscroll({height:$(window).height()-$(".header").height()+"px",color:"rgba(0,0,0,0.2)"})}function change_layout(){$("body").toggleClass("fixed"),fix_sidebar()}function change_skin(e){$("body").removeClass("skin-blue skin-black"),$("body").addClass(e)}var left_side_width=220;$(function(){"use strict";function e(){var e=$(window).height()-$("body > .header").height();$(".wrapper").css("min-height",e+"px");var t=$(".wrapper").height();t>e?$(".left-side, html, body").css("min-height",t+"px"):$(".left-side, html, body").css("min-height",e+"px")}$("[data-toggle='offcanvas']").click(function(e){e.preventDefault(),$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))}),$(".btn").bind("touchstart",function(){$(this).addClass("hover")}).bind("touchend",function(){$(this).removeClass("hover")}),$("[data-toggle='tooltip']").tooltip(),$("[data-widget='collapse']").click(function(){var e=$(this).parents(".box").first(),t=e.find(".box-body, .box-footer");e.hasClass("collapsed-box")?(e.removeClass("collapsed-box"),t.slideDown()):(e.addClass("collapsed-box"),t.slideUp())}),$(".navbar .menu").slimscroll({height:"200px",alwaysVisible:!1,size:"3px"}).css("width","100%"),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").click(function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})}),$("[data-widget='remove']").click(function(){var e=$(this).parents(".box").first();e.slideUp()}),e(),$(window).resize(function(){e()}),$(".wrapper").resize(function(){e(),fix_sidebar()}),fix_sidebar()}),$(window).load(function(){(function(){var e,t,n,r,i,a,o,s,l,c,d,u,f,h,p,g,m,v,b,y,w,x,C,k,T,S,D,$,z,R,F,M,P,N,I,_,A,L,E,O,H,j,B,U,W,q,V,Y=[].slice,K={}.hasOwnProperty,J=function(e,t){function n(){this.constructor=e}for(var r in t)K.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},G=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(y={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},$=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},R=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==R&&(R=function(e){return setTimeout(e,50)},b=function(e){return clearTimeout(e)}),M=function(e){var t,n;return t=$(),(n=function(){var r;return r=$()-t,r>=33?(t=$(),e(r,function(){return R(n)})):setTimeout(n,33-r)})()},F=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},w=function(){var e,t,n,r,i,a,o;for(t=arguments[0],r=2<=arguments.length?Y.call(arguments,1):[],a=0,o=r.length;o>a;a++)if(n=r[a])for(e in n)K.call(n,e)&&(i=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=i&&"object"==typeof i?w(t[e],i):t[e]=i);return t},g=function(e){var t,n,r,i,a;for(n=t=0,i=0,a=e.length;a>i;i++)r=e[i],n+=Math.abs(r),t++;return n/t},C=function(e,t){var n,r,i;if(null==e&&(e="options"),null==t&&(t=!0),i=document.querySelector("[data-pace-"+e+"]")){if(n=i.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(a){return r=a,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},o=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,r,i,a,o,s,l;if(n=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(i=0,l=[];i<this.bindings[n].length;)s=this.bindings[n][i],r=s.handler,t=s.ctx,a=s.once,r.apply(null!=t?t:this,e),l.push(a?this.bindings[n].splice(i,1):i++);return l}},e}(),null==window.Pace&&(window.Pace={}),w(Pace,o.prototype),z=Pace.options=w({},y,window.paceOptions,C()),W=["ajax","document","eventLag","elements"],H=0,B=W.length;B>H;H++)I=W[H],z[I]===!0&&(z[I]=y[I]);l=function(e){function t(){return q=t.__super__.constructor.apply(this,arguments)}return J(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(z.target),!e)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null==document.querySelector(z.target)?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,r,i,a,o;if(null!=this.bindings[e]){for(a=this.bindings[e],o=[],r=0,i=a.length;i>r;r++)n=a[r],o.push(n.call(this,t));return o}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),O=window.XMLHttpRequest,E=window.XDomainRequest,L=window.WebSocket,x=function(e,t){var n,r,i,a;a=[];for(r in t.prototype)try{i=t.prototype[r],a.push(null==e[r]&&"function"!=typeof i?e[r]=i:void 0)}catch(o){n=o}return a},S=[],Pace.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],S.unshift("ignore"),n=t.apply(null,e),S.shift(),n},Pace.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],S.unshift("track"),n=t.apply(null,e),S.shift(),n},N=function(e){var t;if(null==e&&(e="GET"),"track"===S[0])return"force";if(!S.length&&z.ajax){if("socket"===e&&z.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),G.call(z.ajax.trackMethods,t)>=0)return!0}return!1},c=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(r,i){return N(r)&&n.trigger("request",{type:r,url:i,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new O(t),e(n),n},x(window.XMLHttpRequest,O),null!=E&&(window.XDomainRequest=function(){var t;return t=new E,e(t),t},x(window.XDomainRequest,E)),null!=L&&z.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var r;return r=new L(e,t),N("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:r}),r},x(window.WebSocket,L))}return J(t,e),t}(s),j=null,k=function(){return null==j&&(j=new c),j},k().on("request",function(t){var n,r,i,a;return a=t.type,i=t.request,Pace.running||z.restartOnRequestAfter===!1&&"force"!==N(a)?void 0:(r=arguments,n=z.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var t,n,o,s,l,c;if(t="socket"===a?i.readyState<2:0<(s=i.readyState)&&4>s){for(Pace.restart(),l=Pace.sources,c=[],n=0,o=l.length;o>n;n++){if(I=l[n],I instanceof e){I.watch.apply(I,r);break}c.push(void 0)}return c}},n))}),e=function(){function e(){var e=this;this.elements=[],k().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,r;return r=e.type,t=e.request,n="socket"===r?new f(t):new h(t),this.elements.push(n)},e}(),h=function(){function e(e){var t,n,r,i,a,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,e.addEventListener("progress",function(e){return s.progress=e.lengthComputable?100*e.loaded/e.total:s.progress+(100-s.progress)/2}),o=["load","abort","timeout","error"],r=0,i=o.length;i>r;r++)t=o[r],e.addEventListener(t,function(){return s.progress=100});else a=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof a?a.apply(null,arguments):void 0}}return e}(),f=function(){function e(e){var t,n,r,i,a=this;for(this.progress=0,i=["error","open"],n=0,r=i.length;r>n;n++)t=i[n],e.addEventListener(t,function(){return a.progress=100})}return e}(),r=function(){function e(e){var t,n,r,a;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),a=e.selectors,n=0,r=a.length;r>n;n++)t=a[n],this.elements.push(new i(t))}return e}(),i=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},z.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),a=function(){function e(){var e,t,n,r,i,a=this;this.progress=0,e=0,i=[],r=0,n=$(),t=setInterval(function(){var o;return o=$()-n-50,n=$(),i.push(o),i.length>z.eventLag.sampleCount&&i.shift(),e=g(i),++r>=z.eventLag.minSamples&&e<z.eventLag.lagThreshold?(a.progress=100,clearInterval(t)):a.progress=100*(3/(e+3))},50)}return e}(),u=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=z.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=F(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/z.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,z.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+z.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),_=null,P=null,m=null,A=null,p=null,v=null,Pace.running=!1,T=function(){return z.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return T(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return T(),V.apply(window.history,arguments)}),d={ajax:e,elements:r,document:n,eventLag:a},(D=function(){var e,n,r,i,a,o,s,l;for(Pace.sources=_=[],o=["ajax","elements","document","eventLag"],n=0,i=o.length;i>n;n++)e=o[n],z[e]!==!1&&_.push(new d[e](z[e]));for(l=null!=(s=z.extraSources)?s:[],r=0,a=l.length;a>r;r++)I=l[r],_.push(new I(z));return Pace.bar=m=new t,P=[],A=new u})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,m.destroy(),v=!0,null!=p&&("function"==typeof b&&b(p),p=null),D()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){return Pace.running=!0,m.render(),v=!1,p=M(function(e,t){var n,r,i,a,o,s,l,c,d,f,h,p,g,b,y,w,x;for(c=100-m.progress,r=p=0,i=!0,s=g=0,y=_.length;y>g;s=++g)for(I=_[s],f=null!=P[s]?P[s]:P[s]=[],o=null!=(x=I.elements)?x:[I],l=b=0,w=o.length;w>b;l=++b)a=o[l],d=null!=f[l]?f[l]:f[l]=new u(a),i&=d.done,d.done||(r++,p+=d.tick(e));return n=p/r,m.update(A.tick(e,n)),h=$(),m.done()||i||v?(m.update(100),Pace.trigger("done"),setTimeout(function(){return m.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(z.ghostTime,Math.min(z.minTime,$()-h)))):t()})},Pace.start=function(e){w(z,e),Pace.running=!0;try{m.render()}catch(t){l=t}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define("theme-app",[],function(){return Pace}):"object"==typeof exports?module.exports=Pace:z.startOnPageLoad&&Pace.start()}).call(this)}),function(e){"use strict";e.fn.boxRefresh=function(t){function n(e){e.append(a),i.onLoadStart.call(e)}function r(e){e.find(a).remove(),i.onLoadDone.call(e)}var i=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(){},onLoadDone:function(){}},t),a=e('<div class="overlay"></div><div class="loading-img"></div>');return this.each(function(){if(""===i.source)return void(console&&console.log("Please specify a source first - boxRefresh()"));var t=e(this),a=t.find(i.trigger).first();a.click(function(e){e.preventDefault(),n(t),t.find(".box-body").load(i.source,function(){r(t)})})})}}(jQuery),function(e){"use strict";e.fn.tree=function(){return this.each(function(){var t=e(this).children("a").first(),n=e(this).children(".treeview-menu").first(),r=e(this).hasClass("active");r&&(n.show(),t.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down")),t.click(function(e){e.preventDefault(),r?(n.slideUp(),r=!1,t.children(".fa-angle-down").first().removeClass("fa-angle-down").addClass("fa-angle-left"),t.parent("li").removeClass("active")):(n.slideDown(),r=!0,t.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down"),t.parent("li").addClass("active"))}),n.find("li > a").each(function(){var t=parseInt(e(this).css("margin-left"))+10;e(this).css({"margin-left":t+"px"})})})}}(jQuery),function(e){"use strict";e.fn.todolist=function(t){var n=e.extend({onCheck:function(){},onUncheck:function(){}},t);return this.each(function(){e("input",this).on("ifChecked",function(){var t=e(this).parents("li").first();t.toggleClass("done"),n.onCheck.call(t)}),e("input",this).on("ifUnchecked",function(){var t=e(this).parents("li").first();t.toggleClass("done"),n.onUncheck.call(t)})})}}(jQuery),function(e){"use strict";jQuery.fn.center=function(t){return t=t?this.parent():window,this.css({position:"absolute",top:(e(t).height()-this.outerHeight())/2+e(t).scrollTop()+"px",left:(e(t).width()-this.outerWidth())/2+e(t).scrollLeft()+"px"}),this}}(jQuery),function(e,t,n){function r(){i=t[s](function(){a.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,c);(n!==i.w||r!==i.h)&&t.trigger(l,[i.w=n,i.h=r])}),r()},o[d])}var i,a=e([]),o=e.resize=e.extend(e.resize,{}),s="setTimeout",l="resize",c=l+"-special-event",d="delay",u="throttleWindow";o[d]=250,o[u]=!0,e.event.special[l]={setup:function(){if(!o[u]&&this[s])return!1;var t=e(this);a=a.add(t),e.data(this,c,{w:t.width(),h:t.height()}),1===a.length&&r()},teardown:function(){if(!o[u]&&this[s])return!1;var t=e(this);a=a.not(t),t.removeData(c),a.length||clearTimeout(i)},add:function(t){function r(t,r,a){var o=e(this),s=e.data(this,c);s.w=r!==n?r:o.width(),s.h=a!==n?a:o.height(),i.apply(this,arguments)}if(!o[u]&&this[s])return!1;var i;return e.isFunction(t)?(i=t,r):(i=t.handler,void(t.handler=r))}}}(jQuery,this),function(e){jQuery.fn.extend({slimScroll:function(n){var r=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0px",railBorderRadius:"0px"},n);return this.each(function(){function i(t){if(d){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+r.wrapperClass).is(w.parent())&&a(n,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function a(e,t,n){y=!1;var i=e,a=w.outerHeight()-C.outerHeight();t&&(i=parseInt(C.css("top"))+e*parseInt(r.wheelStep)/100*C.outerHeight(),i=Math.min(Math.max(i,0),a),i=e>0?Math.ceil(i):Math.floor(i),C.css({top:i+"px"})),m=parseInt(C.css("top"))/(w.outerHeight()-C.outerHeight()),i=m*(w[0].scrollHeight-w.outerHeight()),n&&(i=e,e=i/w[0].scrollHeight*w.outerHeight(),e=Math.min(Math.max(e,0),a),C.css({top:e+"px"})),w.scrollTop(i),w.trigger("slimscrolling",~~i),l(),c()}function o(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1),this.addEventListener("MozMousePixelScroll",i,!1)):document.attachEvent("onmousewheel",i)}function s(){g=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),C.css({height:g+"px"});var e=g==w.outerHeight()?"none":"block";C.css({display:e})}function l(){s(),clearTimeout(h),m==~~m?(y=r.allowPageScroll,v!=m&&w.trigger("slimscroll",0==~~m?"top":"bottom")):y=!1,v=m,g>=w.outerHeight()?y=!0:(C.stop(!0,!0).fadeIn("fast"),r.railVisible&&k.stop(!0,!0).fadeIn("fast"))}function c(){r.alwaysVisible||(h=setTimeout(function(){r.disableFadeOut&&d||u||f||(C.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var d,u,f,h,p,g,m,v,b=30,y=!1,w=e(this);if(w.parent().hasClass(r.wrapperClass)){var x=w.scrollTop(),C=w.parent().find("."+r.barClass),k=w.parent().find("."+r.railClass);if(s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var T=w.parent().parent().height();w.parent().css("height",T),w.css("height",T)}if("scrollTo"in n)x=parseInt(r.scrollTo);else if("scrollBy"in n)x+=parseInt(r.scrollBy);else if("destroy"in n)return C.remove(),k.remove(),void w.unwrap();a(x,!1,!0)}}else{r.height="auto"==r.height?w.parent().height():r.height,x=e("<div></div>").addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height}),w.css({overflow:"hidden",width:r.width,height:r.height});var k=e("<div></div>").addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),C=e("<div></div>").addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),T="right"==r.position?{right:r.distance}:{left:r.distance};k.css(T),C.css(T),w.wrap(x),w.parent().append(C),w.parent().append(k),r.railDraggable&&C.bind("mousedown",function(n){var r=e(document);return f=!0,t=parseFloat(C.css("top")),pageY=n.pageY,r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,C.css("top",currTop),a(0,C.position().top,!1)}),r.bind("mouseup.slimscroll",function(){f=!1,c(),r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),k.hover(function(){l()},function(){c()}),C.hover(function(){u=!0},function(){u=!1}),w.hover(function(){d=!0,l(),c()},function(){d=!1,c()}),w.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){y||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(a((p-e.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY)}),s(),"bottom"===r.start?(C.css({top:w.outerHeight()-C.outerHeight()}),a(0,!0)):"top"!==r.start&&(a(e(r.start).position().top,null,!0),r.alwaysVisible||C.hide()),o()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(e){function t(e,t,i){var a=e[0],o=/er/.test(i)?g:/bl/.test(i)?h:u,s=i==m?{checked:a[u],disabled:a[h],indeterminate:"true"==e.attr(g)||"false"==e.attr(p)}:a[o];if(/^(ch|di|in)/.test(i)&&!s)n(e,o);else if(/^(un|en|de)/.test(i)&&s)r(e,o);else if(i==m)for(o in s)s[o]?n(e,o,!0):r(e,o,!0);else t&&"toggle"!=i||(t||e[w]("ifClicked"),s?a[v]!==d&&r(e,o):n(e,o))}function n(t,n,i){var m=t[0],w=t.parent(),x=n==u,k=n==g,T=n==h,S=k?p:x?f:"enabled",D=a(t,S+o(m[v])),$=a(t,n+o(m[v]));if(!0!==m[n]){if(!i&&n==u&&m[v]==d&&m.name){var z=t.closest("form"),R='input[name="'+m.name+'"]',R=z.length?z.find(R):e(R);R.each(function(){this!==m&&e(this).data(l)&&r(e(this),n)})}k?(m[n]=!0,m[u]&&r(t,u,"force")):(i||(m[n]=!0),x&&m[g]&&r(t,g,!1)),s(t,x,n,i)}m[h]&&a(t,C,!0)&&w.find("."+c).css(C,"default"),w[b]($||a(t,n)||""),T?w.attr("aria-disabled","true"):w.attr("aria-checked",k?"mixed":"true"),w[y](D||a(t,S)||"")}function r(e,t,n){var r=e[0],i=e.parent(),l=t==u,d=t==g,m=t==h,w=d?p:l?f:"enabled",x=a(e,w+o(r[v])),k=a(e,t+o(r[v]));!1!==r[t]&&((d||!n||"force"==n)&&(r[t]=!1),s(e,l,w,n)),!r[h]&&a(e,C,!0)&&i.find("."+c).css(C,"pointer"),i[y](k||a(e,t)||""),m?i.attr("aria-disabled","false"):i.attr("aria-checked","false"),i[b](x||a(e,w)||"")}function i(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[w](n),t.off(".i").unwrap(),e(x+'[for="'+t[0].id+'"]').add(t.closest(x)).off(".i"))}function a(e,t,n){return e.data(l)?e.data(l).o[t+(n?"":"Class")]:void 0}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,r){r||(t&&e[w]("ifToggled"),e[w]("ifChanged")[w]("if"+o(n)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",f="un"+u,h="disabled",p="determinate",g="in"+p,m="update",v="type",b="addClass",y="removeClass",w="trigger",x="label",C="cursor",k=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(a,o){var s='input[type="checkbox"], input[type="'+d+'"]',f=e(),p=function(t){t.each(function(){var t=e(this);f=f.add(t.is(s)?t:t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(a))return a=a.toLowerCase(),p(this),f.each(function(){var n=e(this);"destroy"==a?i(n,"ifDestroyed"):t(n,!0,a),e.isFunction(o)&&o()});if("object"!=typeof a&&a)return this;var C=e.extend({checkedClass:u,disabledClass:h,indeterminateClass:g,labelHover:!0,aria:!1},a),T=C.handle,S=C.hoverClass||"hover",D=C.focusClass||"focus",$=C.activeClass||"active",z=!!C.labelHover,R=C.labelHoverClass||"hover",F=0|(""+C.increaseArea).replace("%","");return("checkbox"==T||T==d)&&(s='input[type="'+T+'"]'),-50>F&&(F=-50),p(this),f.each(function(){var a=e(this);i(a);var o=this,s=o.id,f=-F+"%",p=100+2*F+"%",p={position:"absolute",top:f,left:f,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},f=k?{position:"absolute",visibility:"hidden"}:F?p:{position:"absolute",opacity:0},g="checkbox"==o[v]?C.checkboxClass||"icheckbox":C.radioClass||"i"+d,T=e(x+'[for="'+s+'"]').add(a.closest(x)),M=!!C.aria,P=l+"-"+Math.random().toString(36).replace("0.",""),N='<div class="'+g+'" '+(M?'role="'+o[v]+'" ':"");T.length&&M&&T.each(function(){N+='aria-labelledby="',this.id?N+=this.id:(this.id=P,N+=P),N+='"'}),N=a.wrap(N+"/>")[w]("ifCreated").parent().append(C.insert),p=e('<ins class="'+c+'"/>').css(p).appendTo(N),a.data(l,{o:C,s:a.attr("style")}).css(f),C.inheritClass&&N[b](o.className||""),C.inheritID&&s&&N.attr("id",l+"-"+s),"static"==N.css("position")&&N.css("position","relative"),t(a,!0,m),T.length&&T.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(n){var r=n[v],i=e(this);if(!o[h]){if("click"==r){if(e(n.target).is("a"))return;t(a,!1,!0)}else z&&(/ut|nd/.test(r)?(N[y](S),i[y](R)):(N[b](S),i[b](R)));if(!k)return!1;n.stopPropagation()}}),a.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[v];return e=e.keyCode,"click"==t?!1:"keydown"==t&&32==e?(o[v]==d&&o[u]||(o[u]?r(a,u):n(a,u)),!1):void("keyup"==t&&o[v]==d?!o[u]&&n(a,u):/us|ur/.test(t)&&N["blur"==t?y:b](D))}),p.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var n=e[v],r=/wn|up/.test(n)?$:S;if(!o[h]){if("click"==n?t(a,!1,!0):(/wn|er|in/.test(n)?N[b](r):N[y](r+" "+$),T.length&&z&&r==S&&T[/ut|nd/.test(n)?y:b](R)),!k)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),!function(e,t){"use strict";var n,r=e.document;n=function(){var n,i,a,o,s,l,c,d,u,f,h,p,g,m={},v={},b=!1,y={ENTER:13,ESC:27,SPACE:32},w=[];return v={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},g=function(){var e,n,i=!1,a=r.createElement("fakeelement"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(e in o)if(a.style[e]!==t){n=o[e],i=!0;break}return{type:n,supported:i}},n=function(e){return r.getElementById(e)},m={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:t,addListeners:function(e){var t,n,l,c,d,u="undefined"!=typeof a,f="undefined"!=typeof i,h="undefined"!=typeof p,g="",m=this;t=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),l(t),"undefined"!=typeof p&&(g=p.value),"function"==typeof e&&("undefined"!=typeof p?e(!0,g):e(!0)),!1},n=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),l(t),"function"==typeof e&&e(!1),!1},l=function(){m.hide(),m.unbind(r.body,"keyup",c),m.unbind(o,"focus",d),u&&m.unbind(a,"click",t),f&&m.unbind(i,"click",n)},c=function(e){var r=e.keyCode;(r===y.SPACE&&!h||h&&r===y.ENTER)&&t(e),r===y.ESC&&f&&n(e)},d=function(){h?p.focus():!f||m.buttonReverse?a.focus():i.focus()},this.bind(o,"focus",d),this.bind(s,"focus",d),u&&this.bind(a,"click",t),f&&this.bind(i,"click",n),this.bind(r.body,"keyup",c),this.transition.supported||this.setFocus()},bind:function(e,t,n){"function"==typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},handleErrors:function(){if("undefined"!=typeof e.onerror){var t=this;return e.onerror=function(e,n,r){t.error("["+e+" on line "+r+" of "+n+"]",0)},!0}return!1},appendButtons:function(e,t){return this.buttonReverse?t+e:e+t},build:function(e){var t="",n=e.type,r=e.message,i=e.cssClass||"";switch(t+='<div class="alertify-dialog">',t+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===m.buttonFocus&&(t+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===n&&(t+='<div id="alertify-form">'),t+='<article class="alertify-inner">',t+=v.message.replace("{{message}}",r),"prompt"===n&&(t+=v.input),t+=v.buttons.holder,t+="</article>","prompt"===n&&(t+="</div>"),t+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',t+="</div>",n){case"confirm":t=t.replace("{{buttons}}",this.appendButtons(v.buttons.cancel,v.buttons.ok)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":t=t.replace("{{buttons}}",this.appendButtons(v.buttons.cancel,v.buttons.submit)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":t=t.replace("{{buttons}}",v.buttons.ok),t=t.replace("{{ok}}",this.labels.ok)}return u.className="alertify alertify-"+n+" "+i,d.className="alertify-cover",t},close:function(e,t){var n,r,i=t&&!isNaN(t)?+t:this.delay,a=this;this.bind(e,"click",function(){n(e)}),r=function(e){e.stopPropagation(),a.unbind(this,a.transition.type,r),f.removeChild(this),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")},n=function(e){"undefined"!=typeof e&&e.parentNode===f&&(a.transition.supported?(a.bind(e,a.transition.type,r),e.className+=" alertify-log-hide"):(f.removeChild(e),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")))},0!==t&&setTimeout(function(){n(e)},i)},dialog:function(e,t,n,i,a){c=r.activeElement;var o=function(){f&&null!==f.scrollTop&&d&&null!==d.scrollTop||o()};if("string"!=typeof e)throw new Error("message must be a string");if("string"!=typeof t)throw new Error("type must be a string");if("undefined"!=typeof n&&"function"!=typeof n)throw new Error("fn must be a function");return this.init(),o(),w.push({type:t,message:e,callback:n,placeholder:i,cssClass:a}),b||this.setup(),this},extend:function(e){if("string"!=typeof e)throw new Error("extend method must have exactly one paramter");return function(t,n){return this.log(t,e,n),this}},hide:function(){var e,t=this;w.splice(0,1),w.length>0?this.setup(!0):(b=!1,e=function(n){n.stopPropagation(),t.unbind(u,t.transition.type,e)},this.transition.supported?(this.bind(u,this.transition.type,e),u.className="alertify alertify-hide alertify-hidden"):u.className="alertify alertify-hide alertify-hidden alertify-isHidden",d.className="alertify-cover alertify-cover-hidden",c.focus())},init:function(){r.createElement("nav"),r.createElement("article"),r.createElement("section"),null==n("alertify-cover")&&(d=r.createElement("div"),d.setAttribute("id","alertify-cover"),d.className="alertify-cover alertify-cover-hidden",r.body.appendChild(d)),null==n("alertify")&&(b=!1,w=[],u=r.createElement("section"),u.setAttribute("id","alertify"),u.className="alertify alertify-hidden",r.body.appendChild(u)),null==n("alertify-logs")&&(f=r.createElement("section"),f.setAttribute("id","alertify-logs"),f.className="alertify-logs alertify-logs-hidden",r.body.appendChild(f)),r.body.setAttribute("tabindex","0"),this.transition=g()},log:function(e,t,n){var r=function(){f&&null!==f.scrollTop||r()};return this.init(),r(),f.className="alertify-logs",this.notify(e,t,n),this},notify:function(e,t,n){var i=r.createElement("article");i.className="alertify-log"+("string"==typeof t&&""!==t?" alertify-log-"+t:""),i.innerHTML=e,f.appendChild(i),setTimeout(function(){i.className=i.className+" alertify-log-show"},50),this.close(i,n)},set:function(e){var t;if("object"!=typeof e&&e instanceof Array)throw new Error("args must be an object");for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},setFocus:function(){p?(p.focus(),p.select()):l.focus()},setup:function(e){var r,c=w[0],d=this;b=!0,r=function(e){e.stopPropagation(),d.setFocus(),d.unbind(u,d.transition.type,r)},this.transition.supported&&!e&&this.bind(u,this.transition.type,r),u.innerHTML=this.build(c),o=n("alertify-resetFocus"),s=n("alertify-resetFocusBack"),a=n("alertify-ok")||t,i=n("alertify-cancel")||t,l="cancel"===m.buttonFocus?i:"none"===m.buttonFocus?n("alertify-noneFocus"):a,p=n("alertify-text")||t,h=n("alertify-form")||t,"string"==typeof c.placeholder&&""!==c.placeholder&&(p.value=c.placeholder),e&&this.setFocus(),this.addListeners(c.callback)
},unbind:function(e,t,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},{alert:function(e,t,n){return m.dialog(e,"alert",t,"",n),this},confirm:function(e,t,n){return m.dialog(e,"confirm",t,"",n),this},extend:m.extend,init:m.init,log:function(e,t,n){return m.log(e,t,n),this},prompt:function(e,t,n,r){return m.dialog(e,"prompt",t,n,r),this},success:function(e,t){return m.log(e,"success",t),this},error:function(e,t){return m.log(e,"error",t),this},set:function(e){m.set(e)},labels:m.labels,debug:m.handleErrors}},"function"==typeof define?define([],function(){return new n}):"undefined"==typeof e.alertify&&(e.alertify=new n)}(this),function(){var e=[].slice;!function(t,n){"use strict";var r;return r=function(){function e(e,n){null==n&&(n={}),this.$element=t(e),this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class"),radioAllOff:this.$element.data("radio-all-off")},n),this.$wrapper=t("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),null!=e.options.size&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.animate&&t.push(""+e.options.baseClass+"-animate"),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(""+e.options.baseClass+"-indeterminate"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=t("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=t("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=t("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=t("<label>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init.bootstrapSwitch"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return e.prototype._constructor=e,e.prototype.state=function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this.options.size=e,this.$element)},e.prototype.animate=function(e){return"undefined"==typeof e?this.options.animate:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.options.animate=e,this.$element)},e.prototype.disabled=function(e){return"undefined"==typeof e?this.options.disabled:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element.prop("disabled",e),this.options.disabled=e,this.$element)},e.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},e.prototype.readonly=function(e){return"undefined"==typeof e?this.options.readonly:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element.prop("readonly",e),this.options.readonly=e,this.$element)},e.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},e.prototype.indeterminate=function(e){return"undefined"==typeof e?this.options.indeterminate:(e=!!e,this.$wrapper[e?"addClass":"removeClass"](""+this.options.baseClass+"-indeterminate"),this.$element.prop("indeterminate",e),this.options.indeterminate=e,this.$element)},e.prototype.toggleIndeterminate=function(){return this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this.options.indeterminate=!this.options.indeterminate,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,"undefined"==typeof e?t:(null!=t&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,"undefined"==typeof e?t:(null!=t&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this.options.labelText=e,this.$element)},e.prototype.baseClass=function(){return this.options.baseClass},e.prototype.wrapperClass=function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return"undefined"==typeof e?this.options.radioAllOff:(this.options.radioAllOff=e,this.$element)},e.prototype.onInit=function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(n,r){var i;return n.preventDefault(),n.stopImmediatePropagation(),i=e.$element.is(":checked"),i!==e.options.state?(e.options.state=i,e.$wrapper.removeClass(i?""+e.options.baseClass+"-off":""+e.options.baseClass+"-on").addClass(i?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),r?void 0:(e.$element.is(":radio")&&t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[i]))):void 0}}(this),"focus.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(t.which&&!e.options.disabled&&!e.options.readonly&&!e.options.indeterminate)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(){return e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(){return e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var n,r,i,a;return e.isLabelDragging?(t.preventDefault(),e.isLabelDragged=!0,r=t.pageX||t.originalEvent.touches[0].pageX,i=(r-e.$wrapper.offset().left)/e.$wrapper.width()*100,n=25,a=75,e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),n>i?i=n:i>a&&(i=a),e.$container.css("margin-left",""+(i-a)+"%"),e.$element.trigger("focus.bootstrapSwitch")):void 0}}(this),"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){return e.isLabelDragging||e.options.disabled||e.options.readonly||e.options.indeterminate?void 0:(t.preventDefault(),e.isLabelDragging=!0,e.$element.trigger("focus.bootstrapSwitch"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){return e.isLabelDragging?(t.preventDefault(),e.isLabelDragged?(e.isLabelDragged=!1,e.state(parseInt(e.$container.css("margin-left"),10)>-(e.$container.width()/6)),e.options.animate&&e.$wrapper.addClass(""+e.options.baseClass+"-animate"),e.$container.css("margin-left","")):e.state(!e.options.state),e.isLabelDragging=!1):void 0}}(this),"mouseleave.bootstrapSwitch":function(e){return function(){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._formHandler=function(){var e;return e=this.$element.closest("form"),e.data("bootstrap-switch")?void 0:e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var n,r,i,a;if(!t.isArray(e))return[""+this.options.baseClass+"-"+e];for(r=[],i=0,a=e.length;a>i;i++)n=e[i],r.push(""+this.options.baseClass+"-"+n);return r},e}(),t.fn.bootstrapSwitch=function(){var n,i,a;return i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],a=this,this.each(function(){var e,o;return e=t(this),o=e.data("bootstrap-switch"),o||e.data("bootstrap-switch",o=new r(this,i)),"string"==typeof i?a=o[i].apply(o,n):void 0}),a},t.fn.bootstrapSwitch.Constructor=r,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",radioAllOff:!1,onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),!function(e){"use strict";function t(t,n){this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="bootstrap-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container);var r=(this.inputSize<3?3:this.inputSize)+"em";this.$input.get(0).style.cssText="width: "+r+" !important;",this.build(n)}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function r(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}function i(e){return e?l.text(e).html():""}function a(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function o(t,n){var r=!1;return e.each(n,function(e,n){if("number"==typeof n&&t.which===n)return r=!0,!1;if(t.which===n.which){var i=!n.hasOwnProperty("altKey")||t.altKey===n.altKey,a=!n.hasOwnProperty("shiftKey")||t.shiftKey===n.shiftKey,o=!n.hasOwnProperty("ctrlKey")||t.ctrlKey===n.ctrlKey;if(i&&a&&o)return r=!0,!1}}),r}var s={tagClass:function(){return"label label-divide"},itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};t.prototype={constructor:t,add:function(t,n){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags||t!==!1&&!t)){if("string"==typeof t&&r.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var a=t.split(",");if(a.length>1){for(var o=0;o<a.length;o++)this.add(a[o],!0);return void(n||r.pushVal())}}var s=r.options.itemValue(t),l=r.options.itemText(t),c=r.options.tagClass(t),d=e.grep(r.itemsArray,function(e){return r.options.itemValue(e)===s})[0];if(!d||r.options.allowDuplicates){if(!(r.items().toString().length+t.length+1>r.options.maxInputLength)){var u=e.Event("beforeItemAdd",{item:t,cancel:!1});if(r.$element.trigger(u),!u.cancel){r.itemsArray.push(t);var f=e('<span class="tag '+i(c)+'">'+i(l)+'<span data-role="remove"></span></span>');if(f.data("item",t),r.findInputWrapper().before(f),f.after(" "),r.isSelect&&!e('option[value="'+encodeURIComponent(s)+'"]',r.$element)[0]){var h=e("<option selected>"+i(l)+"</option>");h.data("item",t),h.attr("value",s),r.$element.append(h)}n||r.pushVal(),(r.options.maxTags===r.itemsArray.length||r.items().toString().length===r.options.maxInputLength)&&r.$container.addClass("bootstrap-tagsinput-max"),r.$element.trigger(e.Event("itemAdded",{item:t}))}}}else if(r.options.onTagExists){var p=e(".tag",r.$container).filter(function(){return e(this).data("item")===d});r.options.onTagExists(t,p)}}}},remove:function(t,n){var r=this;if(r.objectItems&&(t="object"==typeof t?e.grep(r.itemsArray,function(e){return r.options.itemValue(e)==r.options.itemValue(t)}):e.grep(r.itemsArray,function(e){return r.options.itemValue(e)==t}),t=t[t.length-1]),t){var i=e.Event("beforeItemRemove",{item:t,cancel:!1});if(r.$element.trigger(i),i.cancel)return;e(".tag",r.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",r.$element).filter(function(){return e(this).data("item")===t}).remove(),-1!==e.inArray(t,r.itemsArray)&&r.itemsArray.splice(e.inArray(t,r.itemsArray),1)}n||r.pushVal(),r.options.maxTags>r.itemsArray.length&&r.$container.removeClass("bootstrap-tagsinput-max"),r.$element.trigger(e.Event("itemRemoved",{item:t}))},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal()},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var n=e(this),r=n.data("item"),a=t.options.itemValue(r),o=t.options.itemText(r),s=t.options.tagClass(r);if(n.attr("class",null),n.addClass("tag "+i(s)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=i(o),t.isSelect){var l=e("option",t.$element).filter(function(){return e(this).data("item")===r});l.attr("value",a)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(n,!0).trigger("change")},build:function(t){var i=this;if(i.options=e.extend({},s,t),i.objectItems&&(i.options.freeInput=!1),n(i.options,"itemValue"),n(i.options,"itemText"),r(i.options,"tagClass"),i.options.typeahead){var l=i.options.typeahead||{};r(l,"source"),i.$input.typeahead(e.extend({},l,{source:function(t,n){function r(e){for(var t=[],r=0;r<e.length;r++){var o=i.options.itemText(e[r]);a[o]=e[r],t.push(o)}n(t)}this.map={};var a=this.map,o=l.source(t);e.isFunction(o.success)?o.success(r):e.isFunction(o.then)?o.then(r):e.when(o).then(r)},updater:function(e){i.add(this.map[e])},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(i.options.typeaheadjs){var c=i.options.typeaheadjs||{};i.$input.typeahead(null,c).on("typeahead:selected",e.proxy(function(e,t){i.add(c.valueKey?t[c.valueKey]:t),i.$input.typeahead("val","")},i))}i.$container.on("click",e.proxy(function(){i.$element.attr("disabled")||i.$input.removeAttr("disabled"),i.$input.focus()},i)),i.options.addOnBlur&&i.options.freeInput&&i.$input.on("focusout",e.proxy(function(){0===e(".typeahead, .twitter-typeahead",i.$container).length&&(i.add(i.$input.val()),i.$input.val(""))},i)),i.$container.on("keydown","input",e.proxy(function(t){var n=e(t.target),r=i.findInputWrapper();if(i.$element.attr("disabled"))return void i.$input.attr("disabled","disabled");switch(t.which){case 8:if(0===a(n[0])){var o=r.prev();o&&i.remove(o.data("item"))}break;case 46:if(0===a(n[0])){var s=r.next();s&&i.remove(s.data("item"))}break;case 37:var l=r.prev();0===n.val().length&&l[0]&&(l.before(r),n.focus());break;case 39:var c=r.next();0===n.val().length&&c[0]&&(c.after(r),n.focus())}var d=n.val().length;Math.ceil(d/5),n.attr("size",Math.max(this.inputSize,n.val().length))},i)),i.$container.on("keypress","input",e.proxy(function(t){var n=e(t.target);if(i.$element.attr("disabled"))return void i.$input.attr("disabled","disabled");var r=n.val(),a=i.options.maxChars&&r.length>=i.options.maxChars;i.options.freeInput&&(o(t,i.options.confirmKeys)||a)&&(i.add(a?r.substr(0,i.options.maxChars):r),n.val(""),t.preventDefault());var s=n.val().length;Math.ceil(s/5),n.attr("size",Math.max(this.inputSize,n.val().length))},i)),i.$container.on("click","[data-role=remove]",e.proxy(function(t){i.$element.attr("disabled")||i.remove(e(t.target).closest(".tag").data("item"))},i)),i.options.itemValue===s.itemValue&&("INPUT"===i.$element[0].tagName?i.add(i.$element.val()):e("option",i.$element).each(function(){i.add(e(this).attr("value"),!0)}))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(n,r){var i=[];return this.each(function(){var a=e(this).data("tagsinput");if(a)if(n||r){if(void 0!==a[n]){var o=a[n](r);void 0!==o&&i.push(o)}}else i.push(a);else a=new t(this,n),e(this).data("tagsinput",a),i.push(a),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof n?i.length>1?i:i[0]:i},e.fn.tagsinput.Constructor=t;var l=e("<div />");e(function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(e){"use strict";var t={i18n:{bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","ons","Tor","Fre","lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n=e(this);if(!e(this).hasClass("xdsoft_scroller_box")){var r=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else("mousedown"==e.type||"mouseup"==e.type||"mousemove"==e.type||"mouseover"==e.type||"mouseout"==e.type||"mouseenter"==e.type||"mouseleave"==e.type)&&(t.x=e.pageX,t.y=e.pageY);return t},i=0,a=n.children().eq(0),o=n[0].clientHeight,s=a[0].offsetHeight,l=e('<div class="xdsoft_scrollbar"></div>'),c=e('<div class="xdsoft_scroller"></div>'),d=100,u=!1;l.append(c),n.addClass("xdsoft_scroller_box").append(l),c.on("mousedown.xdsoft_scroller",function(r){o||n.trigger("resize_scroll.xdsoft_scroller",[t]);var a=r.pageY,s=parseInt(c.css("margin-top")),u=l[0].offsetHeight;e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function f(){e([document.body,window]).off("mouseup.xdsoft_scroller",f).off("mousemove.xdsoft_scroller",i).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",i=function(e){var t=e.pageY-a+s;0>t&&(t=0),t+c[0].offsetHeight>u&&(t=u-c[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])})}),n.on("scroll_element.xdsoft_scroller",function(e,t){o||n.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,c.css("margin-top",d*t),a.css("marginTop",-parseInt((s-o)*t))}).on("resize_scroll.xdsoft_scroller",function(e,t,r){o=n[0].clientHeight,s=a[0].offsetHeight;var i=o/s,u=i*l[0].offsetHeight;i>1?c.hide():(c.show(),c.css("height",parseInt(u>10?u:10)),d=l[0].offsetHeight-c[0].offsetHeight,r!==!0&&n.trigger("scroll_element.xdsoft_scroller",[t?t:Math.abs(parseInt(a.css("marginTop")))/(s-o)]))}),n.mousewheel&&n.mousewheel(function(e,t){var r=Math.abs(parseInt(a.css("marginTop")));return n.trigger("scroll_element.xdsoft_scroller",[(r-20*t)/(s-o)]),e.stopPropagation(),!1}),n.on("touchstart",function(e){u=r(e)}),n.on("touchmove",function(e){if(u){var t=r(e),i=Math.abs(parseInt(a.css("marginTop")));n.trigger("scroll_element.xdsoft_scroller",[(i-(t.y-u.y))/(s-o)]),e.stopPropagation(),e.preventDefault(),u=r(e)}}),n.on("touchend touchcancel",function(){u=!1})}n.trigger("resize_scroll.xdsoft_scroller",[t])})},e.fn.datetimepicker=function(n){var r=48,i=57,a=96,o=105,s=17,l=46,c=13,d=27,u=8,f=37,h=38,p=39,g=40,m=9,v=116,b=65,y=67,w=86,x=90,C=89,k=!1,T=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend({},t),S=0,D=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(S),S=setTimeout(function(){e.data("xdsoft_datetimepicker")||$(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})},$=function(t){function n(){var e=!1;return T.startDate?e=L.strToDateTime(T.startDate):(e=T.value?T.value:t&&t.val&&t.val()?t.val():"",e=Date.parseDate(e,T.format)),e&&L.isValidDate(e)?S.data("changed",!0):e="",e?e:0}var S=e("<div "+(T.id?'id="'+T.id+'"':"")+" "+(T.style?'style="'+T.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+(T.weeks?" xdsoft_showweeks":"")+T.className+'"></div>'),D=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),$=e('<div class="xdsoft_datepicker active"></div>'),z=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),R=e('<div class="xdsoft_calendar"></div>'),F=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),M=F.find(".xdsoft_time_box").eq(0),P=e('<div class="xdsoft_time_variant"></div>'),N=e('<div class="xdsoft_scrollbar"></div>'),I=(e('<div class="xdsoft_scroller"></div>'),e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),_=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');z.find(".xdsoft_month span").after(I),z.find(".xdsoft_year span").after(_),z.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){z.find(".xdsoft_select").hide();var n=e(this).find(".xdsoft_select").eq(0),r=0,i=0;L.currentTime&&(r=L.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n.show();for(var a=n.find("div.xdsoft_option"),o=0;o<a.length&&a.eq(o).data("value")!=r;o++)i+=a[0].offsetHeight;return n.xdsoftScroller(i/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),z.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){L&&L.currentTime&&L.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),S.trigger("xchange.xdsoft"),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(S,L.currentTime,S.data("input"))}),S.setOptions=function(n){if(T=e.extend(!0,{},T,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(T.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(T.weekends=e.extend(!0,[],n.weekends)),!T.open&&!T.opened||T.inline||t.trigger("open.xdsoft"),T.inline&&(H=!0,S.addClass("xdsoft_inline"),t.after(S).hide()),T.inverseButton&&(T.next="xdsoft_prev",T.prev="xdsoft_next"),T.datepicker?$.addClass("active"):$.removeClass("active"),T.timepicker?F.addClass("active"):F.removeClass("active"),T.value&&(t&&t.val&&t.val(T.value),L.setCurrentTime(T.value)),T.dayOfWeekStart=isNaN(T.dayOfWeekStart)||parseInt(T.dayOfWeekStart)<0||parseInt(T.dayOfWeekStart)>6?0:parseInt(T.dayOfWeekStart),T.timepickerScrollbar||N.hide(),T.minDate&&/^-(.*)$/.test(T.minDate)&&(T.minDate=L.strToDateTime(T.minDate).dateFormat(T.formatDate)),T.maxDate&&/^\+(.*)$/.test(T.maxDate)&&(T.maxDate=L.strToDateTime(T.maxDate).dateFormat(T.formatDate)),z.find(".xdsoft_today_button").css("visibility",T.todayButton?"visible":"hidden"),T.mask){var D=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();
return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},R=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},M=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(t)};switch(t.off("keydown.xdsoft"),!0){case T.mask===!0:T.mask=T.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==e.type(T.mask):M(T.mask,t.val())||t.val(T.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var S=this.value,$=n.which;switch(!0){case $>=r&&i>=$||$>=a&&o>=$||$==u||$==l:var z=D(this),F=$!=u&&$!=l?String.fromCharCode($>=a&&o>=$?$-r:$):"_";for($!=u&&$!=l||!z||(z--,F="_");/[^0-9_]/.test(T.mask.substr(z,1))&&z<T.mask.length&&z>0;)z+=$==u||$==l?-1:1;if(S=S.substr(0,z)+F+S.substr(z+1),""==e.trim(S))S=T.mask.replace(/[0-9]/g,"_");else if(z==T.mask.length)break;for(z+=$==u||$==l?0:1;/[^0-9_]/.test(T.mask.substr(z,1))&&z<T.mask.length&&z>0;)z+=$==u||$==l?-1:1;M(T.mask,S)?(this.value=S,R(this,z)):""==e.trim(S)?this.value=T.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft");break;case!!~[b,y,w,x,C].indexOf($)&&k:case!!~[d,h,g,f,p,v,s,m,c].indexOf($):return!0}return n.preventDefault(),!1})}}T.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){T.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),S.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),T.format)?S.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(L.now().dateFormat(T.format)),S.data("xdsoft_datetime").setCurrentTime(e(this).val())),S.trigger("changedatetime.xdsoft")}),T.dayOfWeekStartPrev=0==T.dayOfWeekStart?6:T.dayOfWeekStart-1,S.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},S.data("options",T).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),_.hide(),I.hide(),!1});var A=F.find(".xdsoft_time_box");A.append(P),A.xdsoftScroller(),S.on("afterOpen.xdsoft",function(){A.xdsoftScroller()}),S.append($).append(F),T.withoutCopyright!==!0&&S.append(D),$.append(z).append(R),e("body").append(S);var L=new function(){var e=this;e.now=function(t){var n=new Date;if(!t&&T.defaultDate){var r=e.strtodate(T.defaultDate);n.setFullYear(r.getFullYear()),n.setMonth(r.getMonth()),n.setDate(r.getDate())}if(T.yearOffset&&n.setFullYear(n.getFullYear()+T.yearOffset),!t&&T.defaultTime){var i=e.strtotime(T.defaultTime);n.setHours(i.getHours()),n.setMinutes(i.getMinutes())}return n},e.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),S.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return 12==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(S,L.currentTime,S.data("input")),S.trigger("xchange.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return-1==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(S,L.currentTime,S.data("input")),S.trigger("xchange.xdsoft"),t},e.strToDateTime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n,r,i=[];return(i=/^(\+|\-)(.*)$/.exec(t))&&(i[2]=Date.parseDate(i[2],T.formatDate))?(n=i[2].getTime()-6e4*i[2].getTimezoneOffset(),r=new Date(L.now().getTime()+parseInt(i[1]+"1")*n)):r=t?Date.parseDate(t,T.format):e.now(),e.isValidDate(r)||(r=e.now()),r},e.strtodate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,T.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,T.formatTime):e.now();return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return e.currentTime.dateFormat(T.format)},e.currentTime=this.now()};z.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){S.data("changed",!0),L.setCurrentTime(0),S.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(L.str()),S.trigger("close.xdsoft")}),z.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1;!function i(e){L.currentTime.getMonth();t.hasClass(T.next)?L.nextMonth():t.hasClass(T.prev)&&L.prevMonth(),T.monthChangeSpinner&&!r&&(n=setTimeout(i,e?e:100))}(500),e([document.body,window]).on("mouseup.xdsoft",function a(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",a)})}),F.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1,i=110;!function a(e){var o=M[0].clientHeight,s=P[0].offsetHeight,l=Math.abs(parseInt(P.css("marginTop")));t.hasClass(T.next)&&s-o-T.timeHeightInTimePicker>=l?P.css("marginTop","-"+(l+T.timeHeightInTimePicker)+"px"):t.hasClass(T.prev)&&l-T.timeHeightInTimePicker>=0&&P.css("marginTop","-"+(l-T.timeHeightInTimePicker)+"px"),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(P.css("marginTop"))/(s-o))]),i=i>10?10:i-10,!r&&(n=setTimeout(a,e?e:i))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",o)})});var E=0;S.on("xchange.xdsoft",function(t){clearTimeout(E),E=setTimeout(function(){for(var t="",n=new Date(L.currentTime.getFullYear(),L.currentTime.getMonth(),1,12,0,0),r=0,i=L.now();n.getDay()!=T.dayOfWeekStart;)n.setDate(n.getDate()-1);t+="<table><thead><tr>",T.weeks&&(t+="<th></th>");for(var a=0;7>a;a++)t+="<th>"+T.i18n[T.lang].dayOfWeek[a+T.dayOfWeekStart>6?0:a+T.dayOfWeekStart]+"</th>";t+="</tr></thead>",t+="<tbody>";var o=!1,s=!1;T.maxDate!==!1&&(o=L.strtodate(T.maxDate),o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59,999)),T.minDate!==!1&&(s=L.strtodate(T.minDate),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()));for(var l,c,d,u,f,h=[],p=!0;r<L.currentTime.countDaysInMonth()||n.getDay()!=T.dayOfWeekStart||L.currentTime.getMonth()==n.getMonth();)h=[],r++,l=n.getDate(),c=n.getFullYear(),d=n.getMonth(),u=n.getWeekOfYear(),h.push("xdsoft_date"),f=T.beforeShowDay&&T.beforeShowDay.call?T.beforeShowDay.call(S,n):null,(o!==!1&&n>o||s!==!1&&s>n||f&&f[0]===!1)&&h.push("xdsoft_disabled"),f&&""!=f[1]&&h.push(f[1]),L.currentTime.getMonth()!=d&&h.push("xdsoft_other_month"),(T.defaultSelect||S.data("changed"))&&L.currentTime.dateFormat(T.formatDate)==n.dateFormat(T.formatDate)&&h.push("xdsoft_current"),i.dateFormat(T.formatDate)==n.dateFormat(T.formatDate)&&h.push("xdsoft_today"),(0==n.getDay()||6==n.getDay()||~T.weekends.indexOf(n.dateFormat(T.formatDate)))&&h.push("xdsoft_weekend"),T.beforeShowDay&&"function"==typeof T.beforeShowDay&&h.push(T.beforeShowDay(n)),p&&(t+="<tr>",p=!1,T.weeks&&(t+="<th>"+u+"</th>")),t+='<td data-date="'+l+'" data-month="'+d+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+n.getDay()+" "+h.join(" ")+'"><div>'+l+"</div></td>",n.getDay()==T.dayOfWeekStartPrev&&(t+="</tr>",p=!0),n.setDate(l+1);t+="</tbody></table>",R.html(t),z.find(".xdsoft_label span").eq(0).text(T.i18n[T.lang].months[L.currentTime.getMonth()]),z.find(".xdsoft_label span").eq(1).text(L.currentTime.getFullYear());var g="",m="",d="",v=function(e,t){var n=L.now();n.setHours(e),e=parseInt(n.getHours()),n.setMinutes(t),t=parseInt(n.getMinutes()),h=[],(T.maxTime!==!1&&L.strtotime(T.maxTime).getTime()<n.getTime()||T.minTime!==!1&&L.strtotime(T.minTime).getTime()>n.getTime())&&h.push("xdsoft_disabled"),(T.initTime||T.defaultSelect||S.data("changed"))&&parseInt(L.currentTime.getHours())==parseInt(e)&&(T.step>59||Math[T.roundTime](L.currentTime.getMinutes()/T.step)*T.step==parseInt(t))&&(T.defaultSelect||S.data("changed")?h.push("xdsoft_current"):T.initTime&&h.push("xdsoft_init_time")),parseInt(i.getHours())==parseInt(e)&&parseInt(i.getMinutes())==parseInt(t)&&h.push("xdsoft_today"),g+='<div class="xdsoft_time '+h.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(T.formatTime)+"</div>"};if(T.allowTimes&&e.isArray(T.allowTimes)&&T.allowTimes.length)for(var r=0;r<T.allowTimes.length;r++)m=L.strtotime(T.allowTimes[r]).getHours(),d=L.strtotime(T.allowTimes[r]).getMinutes(),v(m,d);else for(var r=0,a=0;r<(T.hours12?12:24);r++)for(a=0;60>a;a+=T.step)m=(10>r?"0":"")+r,d=(10>a?"0":"")+a,v(m,d);P.html(g);var b="",r=0;for(r=parseInt(T.yearStart,10)+T.yearOffset;r<=parseInt(T.yearEnd,10)+T.yearOffset;r++)b+='<div class="xdsoft_option '+(L.currentTime.getFullYear()==r?"xdsoft_current":"")+'" data-value="'+r+'">'+r+"</div>";for(_.children().eq(0).html(b),r=0,b="";11>=r;r++)b+='<div class="xdsoft_option '+(L.currentTime.getMonth()==r?"xdsoft_current":"")+'" data-value="'+r+'">'+T.i18n[T.lang].months[r]+"</div>";I.children().eq(0).html(b),e(S).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(T.timepicker){var e;if(P.find(".xdsoft_current").length?e=".xdsoft_current":P.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e){var t=M[0].clientHeight,n=P[0].offsetHeight,r=P.find(e).index()*T.timeHeightInTimePicker+1;r>n-t&&(r=n-t),M.trigger("scroll_element.xdsoft_scroller",[parseInt(r)/(n-t)])}else M.trigger("scroll_element.xdsoft_scroller",[0])}});var O=0;R.on("click.xdsoft","td",function(n){n.stopPropagation(),O++;var r=e(this),i=L.currentTime;return(void 0===i||null===i)&&(L.currentTime=L.now(),i=L.currentTime),r.hasClass("xdsoft_disabled")?!1:(i.setDate(1),i.setFullYear(r.data("year")),i.setMonth(r.data("month")),i.setDate(r.data("date")),S.trigger("select.xdsoft",[i]),t.val(L.str()),(O>1||T.closeOnDateSelect===!0||0===T.closeOnDateSelect&&!T.timepicker)&&!T.inline&&S.trigger("close.xdsoft"),T.onSelectDate&&T.onSelectDate.call&&T.onSelectDate.call(S,L.currentTime,S.data("input")),S.data("changed",!0),S.trigger("xchange.xdsoft"),S.trigger("changedatetime.xdsoft"),void setTimeout(function(){O=0},200))}),P.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),r=L.currentTime;return(void 0===r||null===r)&&(L.currentTime=L.now(),r=L.currentTime),n.hasClass("xdsoft_disabled")?!1:(r.setHours(n.data("hour")),r.setMinutes(n.data("minute")),S.trigger("select.xdsoft",[r]),S.data("input").val(L.str()),!T.inline&&S.trigger("close.xdsoft"),T.onSelectTime&&T.onSelectTime.call&&T.onSelectTime.call(S,L.currentTime,S.data("input")),S.data("changed",!0),S.trigger("xchange.xdsoft"),void S.trigger("changedatetime.xdsoft"))}),S.mousewheel&&$.mousewheel(function(e,t){return T.scrollMonth?(0>t?L.nextMonth():L.prevMonth(),!1):!0}),S.mousewheel&&M.unmousewheel().mousewheel(function(e,t){if(!T.scrollTime)return!0;var n=M[0].clientHeight,r=P[0].offsetHeight,i=Math.abs(parseInt(P.css("marginTop"))),a=!0;return 0>t&&r-n-T.timeHeightInTimePicker>=i?(P.css("marginTop","-"+(i+T.timeHeightInTimePicker)+"px"),a=!1):t>0&&i-T.timeHeightInTimePicker>=0&&(P.css("marginTop","-"+(i-T.timeHeightInTimePicker)+"px"),a=!1),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(P.css("marginTop"))/(r-n))]),e.stopPropagation(),a});var H=!1;S.on("changedatetime.xdsoft",function(){if(T.onChangeDateTime&&T.onChangeDateTime.call){var e=S.data("input");T.onChangeDateTime.call(S,L.currentTime,e),e.trigger("change")}}).on("generate.xdsoft",function(){T.onGenerate&&T.onGenerate.call&&T.onGenerate.call(S,L.currentTime,S.data("input")),H&&(S.trigger("afterOpen.xdsoft"),H=!1)}).on("click.xdsoft",function(e){e.stopPropagation()});var j=0;t.mousewheel&&t.mousewheel(function(e,n,r,i){return T.scrollInput?!T.datepicker&&T.timepicker?(j=P.find(".xdsoft_current").length?P.find(".xdsoft_current").eq(0).index():0,j+n>=0&&j+n<P.children().length&&(j+=n),P.children().eq(j).length&&P.children().eq(j).trigger("mousedown"),!1):T.datepicker&&!T.timepicker?($.trigger(e,[n,r,i]),t.val&&t.val(L.str()),S.trigger("changedatetime.xdsoft"),!1):void 0:!0});var B=function(){var t=S.data("input").offset(),n=t.top+S.data("input")[0].offsetHeight-1,r=t.left,i="absolute";T.fixed?(n-=e(window).scrollTop(),r-=e(window).scrollLeft(),i="fixed"):(n+S[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-S[0].offsetHeight+1),0>n&&(n=0),r+S[0].offsetWidth>e(window).width()&&(r=t.left-S[0].offsetWidth+S.data("input")[0].offsetWidth)),S.css({left:r,top:n,position:i})};S.on("open.xdsoft",function(){var t=!0;T.onShow&&T.onShow.call&&(t=T.onShow.call(S,L.currentTime,S.data("input"))),t!==!1&&(S.show(),B(),e(window).off("resize.xdsoft",B).on("resize.xdsoft",B),T.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function n(){S.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",n)}))}).on("close.xdsoft",function(e){var t=!0;T.onClose&&T.onClose.call&&(t=T.onClose.call(S,L.currentTime,S.data("input"))),t===!1||T.opened||T.inline||S.hide(),e.stopPropagation()}).data("input",t);var U=0;S.data("xdsoft_datetime",L),S.setOptions(T),L.setCurrentTime(n()),t.data("xdsoft_datetimepicker",S).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||t.data("xdsoft_datetimepicker").is(":visible")&&T.closeOnInputClick||(clearTimeout(U),U=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(H=!0,L.setCurrentTime(n()),S.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n=(this.value,t.which);switch(!0){case!!~[c].indexOf(n):var r=e("input:visible,textarea:visible");return S.trigger("close.xdsoft"),r.eq(r.index(this)+1).focus(),!1;case!!~[m].indexOf(n):return S.trigger("close.xdsoft"),!0}})},z=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())};return e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode==s&&(k=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode==s&&(k=!1)}),this.each(function(){var t;if(t=e(this).data("xdsoft_datetimepicker")){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":z(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,T.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(n);return 0}"string"!==e.type(n)&&(!T.lazyInit||T.open||T.inline?$(e(this)):D(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i,a=t||window.event,o=[].slice.call(arguments,1),s=0,l=0,c=0,d=0,u=0;return t=e.event.fix(a),t.type="mousewheel",a.wheelDelta&&(s=a.wheelDelta),a.detail&&(s=-1*a.detail),a.deltaY&&(c=-1*a.deltaY,s=c),a.deltaX&&(l=a.deltaX,s=-1*l),void 0!==a.wheelDeltaY&&(c=a.wheelDeltaY),void 0!==a.wheelDeltaX&&(l=-1*a.wheelDeltaX),d=Math.abs(s),(!n||n>d)&&(n=d),u=Math.max(Math.abs(c),Math.abs(l)),(!r||r>u)&&(r=u),i=s>0?"floor":"ceil",s=Math[i](s/n),l=Math[i](l/r),c=Math[i](c/r),o.unshift(t,s,l,c),(e.event.dispatch||e.event.handle).apply(this,o)}var n,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var o=i.length;o;)e.event.fixHooks[i[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=a.length;e;)this.addEventListener(a[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var r=new String(e);for(null==n&&(n=" ");r.length<t;)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},!function(e){e.extend({tablesorter:new function(){function t(){var e=arguments[0],t=1<arguments.length?Array.prototype.slice.call(arguments):e;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function n(e,n){t(e+" ("+((new Date).getTime()-n.getTime())+"ms)")}function r(e){for(var t in e)return!1;return!0}function i(t,n,r){if(!n)return"";var i=t.config,a=i.textExtraction||"",o="",o="basic"===a?e(n).attr(i.textAttribute)||n.textContent||n.innerText||e(n).text()||"":"function"==typeof a?a(n,t,r):"object"==typeof a&&a.hasOwnProperty(r)?a[r](n,t,r):n.textContent||n.innerText||e(n).text()||"";return e.trim(o)}function a(e){var r,a,o,s,l,c,d,u,f=e.config,h=f.$tbodies=f.$table.children("tbody:not(."+f.cssInfoBlock+")"),p=0,g="",m=h.length;if(0===m)return f.debug?t("Warning: *Empty table!* Not building a parser cache"):"";for(f.debug&&(u=new Date,t("Detecting parsers for each column")),a=[];m>p;){if(r=h[p].rows,r[p])for(o=r[p].cells.length,s=0;o>s;s++){if(l=f.$headers.filter(":not([colspan])"),l=l.add(f.$headers.filter('[colspan="1"]')).filter('[data-column="'+s+'"]:last'),c=f.$headers.index(l),c=f.headers[c],d=x.getParserById(x.getData(l,c,"sorter")),f.empties[s]=x.getData(l,c,"empty")||f.emptyTo||(f.emptyToBottom?"bottom":"top"),f.strings[s]=x.getData(l,c,"string")||f.stringTo||"max",!d)e:{l=e,c=r,d=-1;for(var v=s,b=void 0,y=x.parsers.length,w=!1,C="",b=!0;""===C&&b;)d++,c[d]?(w=c[d].cells[v],C=i(l,w,v),l.config.debug&&t("Checking if value was empty on row "+d+", column: "+v+': "'+C+'"')):b=!1;for(;0<=--y;)if((b=x.parsers[y])&&"text"!==b.id&&b.is&&b.is(C,l,w)){d=b;break e}d=x.getParserById("text")}f.debug&&(g+="column:"+s+"; parser:"+d.id+"; string:"+f.strings[s]+"; empty: "+f.empties[s]+"\n"),a.push(d)}p+=a.length?m:1}f.debug&&(t(g?g:"No parsers detected"),n("Completed detecting parsers",u)),f.parsers=a}function o(r){var a,o,s,l,c,d,u,f,h,p,g,m=r.config,v=m.$table.children("tbody"),b=m.parsers;if(m.cache={},!b)return m.debug?t("Warning: *Empty table!* Not building a cache"):"";for(m.debug&&(f=new Date),m.showProcessing&&x.isProcessing(r,!0),c=0;c<v.length;c++)if(g=[],a=m.cache[c]={normalized:[]},!v.eq(c).hasClass(m.cssInfoBlock)){for(h=v[c]&&v[c].rows.length||0,s=0;h>s;++s)if(p={child:[]},d=e(v[c].rows[s]),u=[],d.hasClass(m.cssChildRow)&&0!==s)o=a.normalized.length-1,a.normalized[o][m.columns].$row=a.normalized[o][m.columns].$row.add(d),d.prev().hasClass(m.cssChildRow)||d.prev().addClass(x.css.cssHasChild),p.child[o]=e.trim(d[0].textContent||d[0].innerText||d.text()||"");else{for(p.$row=d,p.order=s,l=0;l<m.columns;++l)"undefined"==typeof b[l]?m.debug&&t("No parser found for cell:",d[0].cells[l],"does it have a header?"):(o=i(r,d[0].cells[l],l),o=b[l].format(o,r,d[0].cells[l],l),u.push(o),"numeric"===(b[l].type||"").toLowerCase()&&(g[l]=Math.max(Math.abs(o)||0,g[l]||0)));u[m.columns]=p,a.normalized.push(u)}a.colMax=g}m.showProcessing&&x.isProcessing(r),m.debug&&n("Building cache for "+h+" rows",f)}function s(t,i){var a,o,s,l,c,d,u=t.config,f=u.widgetOptions,h=t.tBodies,p=[],g=u.cache;if(r(g))return u.appender?u.appender(t,p):t.isUpdating?u.$table.trigger("updateComplete",t):"";for(u.debug&&(d=new Date),c=0;c<h.length;c++)if(a=e(h[c]),a.length&&!a.hasClass(u.cssInfoBlock)){for(s=x.processTbody(t,a,!0),a=g[c].normalized,o=a.length,l=0;o>l;l++)p.push(a[l][u.columns].$row),u.appender&&(!u.pager||u.pager.removeRows&&f.pager_removeRows||u.pager.ajax)||s.append(a[l][u.columns].$row);x.processTbody(t,s,!1)}u.appender&&u.appender(t,p),u.debug&&n("Rebuilt table",d),i||u.appender||x.applyWidget(t),t.isUpdating&&u.$table.trigger("updateComplete",t)}function l(e){return/^d/i.test(e)||1===e}function c(r){var i,a,o,s,c,d,f,h=r.config;h.headerList=[],h.headerContent=[],h.debug&&(f=new Date),h.columns=x.computeColumnIndex(h.$table.children("thead, tfoot").children("tr")),s=h.cssIcon?'<i class="'+(h.cssIcon===x.css.icon?x.css.icon:h.cssIcon+" "+x.css.icon)+'"></i>':"",h.$headers=e(r).find(h.selectorHeaders).each(function(t){a=e(this),i=h.headers[t],h.headerContent[t]=e(this).html(),c=h.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,s),h.onRenderTemplate&&(o=h.onRenderTemplate.apply(a,[t,c]))&&"string"==typeof o&&(c=o),e(this).html('<div class="'+x.css.headerIn+'">'+c+"</div>"),h.onRenderHeader&&h.onRenderHeader.apply(a,[t]),this.column=parseInt(e(this).attr("data-column"),10),this.order=l(x.getData(a,i,"sortInitialOrder")||h.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,d=x.getData(a,i,"lockedOrder")||!1,"undefined"!=typeof d&&!1!==d&&(this.order=this.lockedOrder=l(d)?[1,1,1]:[0,0,0]),a.addClass(x.css.header+" "+h.cssHeader),h.headerList[t]=this,a.parent().addClass(x.css.headerRow+" "+h.cssHeaderRow).attr("role","row"),h.tabIndex&&a.attr("tabindex",0)}).attr({scope:"col",role:"columnheader"}),u(r),h.debug&&(n("Built headers:",f),t(h.$headers))}function d(e,t,n){var r=e.config;r.$table.find(r.selectorRemove).remove(),a(e),o(e),y(r.$table,t,n)}function u(t){var n,r,i=t.config;i.$headers.each(function(a,o){r=e(o),n="false"===x.getData(o,i.headers[a],"sorter"),o.sortDisabled=n,r[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),t.id&&(n?r.removeAttr("aria-controls"):r.attr("aria-controls",t.id))})}function f(t){var n,r,i=t.config,a=i.sortList,o=a.length,s=x.css.sortNone+" "+i.cssNone,l=[x.css.sortAsc+" "+i.cssAsc,x.css.sortDesc+" "+i.cssDesc],c=["ascending","descending"],d=e(t).find("tfoot tr").children().add(i.$extraHeaders).removeClass(l.join(" "));for(i.$headers.removeClass(l.join(" ")).addClass(s).attr("aria-sort","none"),n=0;o>n;n++)if(2!==a[n][1]&&(t=i.$headers.not(".sorter-false").filter('[data-column="'+a[n][0]+'"]'+(1===o?":last":"")),t.length)){for(r=0;r<t.length;r++)t[r].sortDisabled||t.eq(r).removeClass(s).addClass(l[a[n][1]]).attr("aria-sort",c[a[n][1]]);d.length&&d.filter('[data-column="'+a[n][0]+'"]').removeClass(s).addClass(l[a[n][1]])}i.$headers.not(".sorter-false").each(function(){var t=e(this),n=this.order[(this.count+1)%(i.sortReset?3:2)],n=t.text()+": "+x.language[t.hasClass(x.css.sortAsc)?"sortAsc":t.hasClass(x.css.sortDesc)?"sortDesc":"sortNone"]+x.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"];t.attr("aria-label",n)})}function h(t){if(t.config.widthFixed&&0===e(t).find("colgroup").length){var n=e("<colgroup>"),r=e(t).width();e(t.tBodies[0]).find("tr:first").children("td:visible").each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/r*1e3,10)/10+"%"))}),e(t).prepend(n)}}function p(t,n,r){var i,a,o,s=t.config;t=n||s.sortList,s.sortList=[],e.each(t,function(t,n){i=[parseInt(n[0],10),parseInt(n[1],10)],(o=s.$headers.filter('[data-column="'+i[0]+'"]:last')[0])&&(s.sortList.push(i),a=e.inArray(i[1],o.order),r&&(o.count+=1),o.count=a>=0?a:i[1]%(s.sortReset?3:2))})}function g(e,t){return e&&e[t]?e[t].type||"":""}function m(t,n,r){var i,a,o,l=t.config,c=!r[l.sortMultiSortKey],d=l.$table;if(d.trigger("sortStart",t),n.count=r[l.sortResetKey]?2:(n.count+1)%(l.sortReset?3:2),l.sortRestart&&(a=n,l.$headers.each(function(){this===a||!c&&e(this).is("."+x.css.sortDesc+",."+x.css.sortAsc)||(this.count=-1)})),a=n.column,c){if(l.sortList=[],null!==l.sortForce)for(i=l.sortForce,r=0;r<i.length;r++)i[r][0]!==a&&l.sortList.push(i[r]);if(i=n.order[n.count],2>i&&(l.sortList.push([a,i]),1<n.colSpan))for(r=1;r<n.colSpan;r++)l.sortList.push([a+r,i])}else{if(l.sortAppend&&1<l.sortList.length)for(r=0;r<l.sortAppend.length;r++)o=x.isValueInArray(l.sortAppend[r][0],l.sortList),o>=0&&l.sortList.splice(o,1);
if(0<=x.isValueInArray(a,l.sortList))for(r=0;r<l.sortList.length;r++)o=l.sortList[r],i=l.$headers.filter('[data-column="'+o[0]+'"]:last')[0],o[0]===a&&(o[1]=i.order[n.count],2===o[1]&&(l.sortList.splice(r,1),i.count=-1));else if(i=n.order[n.count],2>i&&(l.sortList.push([a,i]),1<n.colSpan))for(r=1;r<n.colSpan;r++)l.sortList.push([a+r,i])}if(null!==l.sortAppend)for(i=l.sortAppend,r=0;r<i.length;r++)i[r][0]!==a&&l.sortList.push(i[r]);d.trigger("sortBegin",t),setTimeout(function(){f(t),v(t),s(t),d.trigger("sortEnd",t)},1)}function v(e){var t,i,a,o,s,l,c,d,u,f,h,p=0,m=e.config,v=m.textSorter||"",b=m.sortList,y=b.length,w=e.tBodies.length;if(!m.serverSideSorting&&!r(m.cache)){for(m.debug&&(s=new Date),i=0;w>i;i++)l=m.cache[i].colMax,c=m.cache[i].normalized,c.sort(function(n,r){for(t=0;y>t&&(o=b[t][0],d=b[t][1],p=0===d,!m.sortStable||n[o]!==r[o]||1!==y);t++)if((a=/n/i.test(g(m.parsers,o)))&&m.strings[o]?(a="boolean"==typeof m.string[m.strings[o]]?(p?1:-1)*(m.string[m.strings[o]]?-1:1):m.strings[o]?m.string[m.strings[o]]||0:0,u=m.numberSorter?m.numberSorter(n[o],r[o],p,l[o],e):x["sortNumeric"+(p?"Asc":"Desc")](n[o],r[o],a,l[o],o,e)):(f=p?n:r,h=p?r:n,u="function"==typeof v?v(f[o],h[o],p,o,e):"object"==typeof v&&v.hasOwnProperty(o)?v[o](f[o],h[o],p,o,e):x["sortNatural"+(p?"Asc":"Desc")](n[o],r[o],o,e,m)),u)return u;return n[m.columns].order-r[m.columns].order});m.debug&&n("Sorting on "+b.toString()+" and dir "+d+" time",s)}}function b(t,n){t[0].isUpdating&&t.trigger("updateComplete"),e.isFunction(n)&&n(t[0])}function y(e,t,n){var r=e[0].config.sortList;!1!==t&&!e[0].isProcessing&&r.length?e.trigger("sorton",[r,function(){b(e,n)},!0]):(b(e,n),x.applyWidget(e[0],!1))}function w(t){var n=t.config,l=n.$table;l.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n.namespace+" ")).bind("sortReset"+n.namespace,function(r,i){r.stopPropagation(),n.sortList=[],f(t),v(t),s(t),e.isFunction(i)&&i(t)}).bind("updateAll"+n.namespace,function(e,r,i){e.stopPropagation(),t.isUpdating=!0,x.refreshWidgets(t,!0,!0),x.restoreHeaders(t),c(t),x.bindEvents(t,n.$headers,!0),w(t),d(t,r,i)}).bind("update"+n.namespace+" updateRows"+n.namespace,function(e,n,r){e.stopPropagation(),t.isUpdating=!0,u(t),d(t,n,r)}).bind("updateCell"+n.namespace,function(r,a,o,s){r.stopPropagation(),t.isUpdating=!0,l.find(n.selectorRemove).remove();var c,d;c=l.find("tbody"),d=e(a),r=c.index(e.fn.closest?d.closest("tbody"):d.parents("tbody").filter(":first"));var u=e.fn.closest?d.closest("tr"):d.parents("tr").filter(":first");a=d[0],c.length&&r>=0&&(c=c.eq(r).find("tr").index(u),d=d.index(),n.cache[r].normalized[c][n.columns].$row=u,a=n.cache[r].normalized[c][d]=n.parsers[d].format(i(t,a,d),t,a,d),"numeric"===(n.parsers[d].type||"").toLowerCase()&&(n.cache[r].colMax[d]=Math.max(Math.abs(a)||0,n.cache[r].colMax[d]||0)),y(l,o,s))}).bind("addRows"+n.namespace,function(o,s,c,f){if(o.stopPropagation(),t.isUpdating=!0,r(n.cache))u(t),d(t,c,f);else{s=e(s);var h,p,g,m,v=s.filter("tr").length,b=l.find("tbody").index(s.parents("tbody").filter(":first"));for(n.parsers&&n.parsers.length||a(t),o=0;v>o;o++){for(p=s[o].cells.length,m=[],g={child:[],$row:s.eq(o),order:n.cache[b].normalized.length},h=0;p>h;h++)m[h]=n.parsers[h].format(i(t,s[o].cells[h],h),t,s[o].cells[h],h),"numeric"===(n.parsers[h].type||"").toLowerCase()&&(n.cache[b].colMax[h]=Math.max(Math.abs(m[h])||0,n.cache[b].colMax[h]||0));m.push(g),n.cache[b].normalized.push(m)}y(l,c,f)}}).bind("updateComplete"+n.namespace,function(){t.isUpdating=!1}).bind("sorton"+n.namespace,function(n,i,a,c){var d=t.config;n.stopPropagation(),l.trigger("sortStart",this),p(t,i,!0),f(t),d.delayInit&&r(d.cache)&&o(t),l.trigger("sortBegin",this),v(t),s(t,c),l.trigger("sortEnd",this),x.applyWidget(t),e.isFunction(a)&&a(t)}).bind("appendCache"+n.namespace,function(n,r,i){n.stopPropagation(),s(t,i),e.isFunction(r)&&r(t)}).bind("updateCache"+n.namespace,function(r,i){n.parsers&&n.parsers.length||a(t),o(t),e.isFunction(i)&&i(t)}).bind("applyWidgetId"+n.namespace,function(e,r){e.stopPropagation(),x.getWidgetById(r).format(t,n,n.widgetOptions)}).bind("applyWidgets"+n.namespace,function(e,n){e.stopPropagation(),x.applyWidget(t,n)}).bind("refreshWidgets"+n.namespace,function(e,n,r){e.stopPropagation(),x.refreshWidgets(t,n,r)}).bind("destroy"+n.namespace,function(e,n,r){e.stopPropagation(),x.destroy(t,n,r)})}var x=this;x.version="2.16.4",x.parsers=[],x.widgets=[],x.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},x.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},x.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},x.log=t,x.benchmark=n,x.construct=function(t){return this.each(function(){var n=e.extend(!0,{},x.defaults,t);!this.hasInitialized&&x.buildTable&&"TABLE"!==this.tagName?x.buildTable(this,n):x.setup(this,n)})},x.setup=function(n,r){if(!n||!n.tHead||0===n.tBodies.length||!0===n.hasInitialized)return r.debug?t("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var i="",s=e(n),l=e.metadata;n.hasInitialized=!1,n.isProcessing=!0,n.config=r,e.data(n,"tablesorter",r),r.debug&&e.data(n,"startoveralltimer",new Date),r.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),1<e[0]||1===e[0]&&4<=parseInt(e[1],10)}(e.fn.jquery.split(".")),r.string={max:1,min:-1,emptyMin:1,emptyMax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(s.attr("class"))||(i=""!==r.theme?" tablesorter-"+r.theme:""),r.$table=s.addClass(x.css.table+" "+r.tableClass+i).attr({role:"grid"}),r.namespace=r.namespace?"."+r.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),r.$tbodies=s.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.find("caption").length&&r.$table.attr("aria-labelledby","theCaption"),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",c(n),h(n),a(n),r.delayInit||o(n),x.bindEvents(n,r.$headers,!0),w(n),r.supportsDataObject&&"undefined"!=typeof s.data().sortlist?r.sortList=s.data().sortlist:l&&s.metadata()&&s.metadata().sortlist&&(r.sortList=s.metadata().sortlist),x.applyWidget(n,!0),0<r.sortList.length?s.trigger("sorton",[r.sortList,{},!r.initWidgets,!0]):(f(n),r.initWidgets&&x.applyWidget(n,!1)),r.showProcessing&&s.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(e){clearTimeout(r.processTimer),x.isProcessing(n),"sortBegin"===e.type&&(r.processTimer=setTimeout(function(){x.isProcessing(n,!0)},500))}),n.hasInitialized=!0,n.isProcessing=!1,r.debug&&x.benchmark("Overall initialization time",e.data(n,"startoveralltimer")),s.trigger("tablesorter-initialized",n),"function"==typeof r.initialized&&r.initialized(n)},x.computeColumnIndex=function(t){var n,r,i,a,o,s,l,c,d,u,f=[],h=0;for(n=0;n<t.length;n++)for(o=t[n].cells,r=0;r<o.length;r++){for(i=o[r],a=e(i),s=i.parentNode.rowIndex,a.index(),l=i.rowSpan||1,c=i.colSpan||1,"undefined"==typeof f[s]&&(f[s]=[]),i=0;i<f[s].length+1;i++)if("undefined"==typeof f[s][i]){d=i;break}for(h=Math.max(d,h),a.attr({"data-column":d}),i=s;s+l>i;i++)for("undefined"==typeof f[i]&&(f[i]=[]),u=f[i],a=d;d+c>a;a++)u[a]="x"}return h+1},x.isProcessing=function(t,n,r){t=e(t);var i=t[0].config;t=r||t.find("."+x.css.header),n?("undefined"!=typeof r&&0<i.sortList.length&&(t=t.filter(function(){return this.sortDisabled?!1:0<=x.isValueInArray(parseFloat(e(this).attr("data-column")),i.sortList)})),t.addClass(x.css.processing+" "+i.cssProcessing)):t.removeClass(x.css.processing+" "+i.cssProcessing)},x.processTbody=function(t,n,r){return t=e(t)[0],r?(t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),r=e.fn.detach?n.detach():n.remove()):(r=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(r),r.remove(),void(t.isProcessing=!1))},x.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},x.bindEvents=function(t,n,i){t=e(t)[0];var a,s=t.config;!0!==i&&(s.$extraHeaders=s.$extraHeaders?s.$extraHeaders.add(n):n),n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind(["mousedown","mouseup","sort","keyup",""].join(s.namespace+" ")).bind(["mousedown","mouseup","sort","keyup",""].join(s.namespace+" "),function(i,l){var c;if(c=i.type,!(1!==(i.which||i.button)&&!/sort|keyup/.test(c)||"keyup"===c&&13!==i.which||"mouseup"===c&&!0!==l&&250<(new Date).getTime()-a)){if("mousedown"===c)return a=(new Date).getTime(),"INPUT"===i.target.tagName?"":!s.cancelSelection;s.delayInit&&r(s.cache)&&o(t),c=e.fn.closest?e(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:e(this).parents("th, td")[0],c=s.$headers[n.index(c)],c.sortDisabled||m(t,c,i)}}),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},x.restoreHeaders=function(t){var n=e(t)[0].config;n.$table.find(n.selectorHeaders).each(function(t){e(this).find("."+x.css.headerIn).length&&e(this).html(n.headerContent[t])})},x.destroy=function(t,n,r){if(t=e(t)[0],t.hasInitialized){x.refreshWidgets(t,!0,!0);var i=e(t),a=t.config,o=i.find("thead:first"),s=o.find("tr."+x.css.headerRow).removeClass(x.css.headerRow+" "+a.cssHeaderRow),l=i.find("tfoot:first > tr").children("th, td");!1===n&&0<=e.inArray("uitheme",a.widgets)&&(i.trigger("applyWidgetId",["uitheme"]),i.trigger("applyWidgetId",["zebra"])),o.find("tr").not(s).remove(),i.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(a.namespace+" ")),a.$headers.add(l).removeClass([x.css.header,a.cssHeader,a.cssAsc,a.cssDesc,x.css.sortAsc,x.css.sortDesc,x.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),s.find(a.selectorSort).unbind(["mousedown","mouseup","keypress",""].join(a.namespace+" ")),x.restoreHeaders(t),i.toggleClass(x.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===n),t.hasInitialized=!1,delete t.config.cache,"function"==typeof r&&r(t)}},x.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},x.sortNatural=function(e,t){if(e===t)return 0;var n,r,i,a,o,s;if(r=x.regex,r.hex.test(t)){if(n=parseInt(e.match(r.hex),16),i=parseInt(t.match(r.hex),16),i>n)return-1;if(n>i)return 1}for(n=e.replace(r.chunk,"\\0$1\\0").replace(r.chunks,"").split("\\0"),r=t.replace(r.chunk,"\\0$1\\0").replace(r.chunks,"").split("\\0"),s=Math.max(n.length,r.length),o=0;s>o;o++){if(i=isNaN(n[o])?n[o]||0:parseFloat(n[o])||0,a=isNaN(r[o])?r[o]||0:parseFloat(r[o])||0,isNaN(i)!==isNaN(a))return isNaN(i)?1:-1;if(typeof i!=typeof a&&(i+="",a+=""),a>i)return-1;if(i>a)return 1}return 0},x.sortNaturalAsc=function(e,t,n,r,i){return e===t?0:(n=i.string[i.empties[n]||i.emptyTo],""===e&&0!==n?"boolean"==typeof n?n?-1:1:-n||-1:""===t&&0!==n?"boolean"==typeof n?n?1:-1:n||1:x.sortNatural(e,t))},x.sortNaturalDesc=function(e,t,n,r,i){return e===t?0:(n=i.string[i.empties[n]||i.emptyTo],""===e&&0!==n?"boolean"==typeof n?n?-1:1:n||1:""===t&&0!==n?"boolean"==typeof n?n?1:-1:-n||-1:x.sortNatural(t,e))},x.sortText=function(e,t){return e>t?1:t>e?-1:0},x.getTextValue=function(e,t,n){if(n){var r=e?e.length:0,i=n+t;for(n=0;r>n;n++)i+=e.charCodeAt(n);return t*i}return 0},x.sortNumericAsc=function(e,t,n,r,i,a){return e===t?0:(a=a.config,i=a.string[a.empties[i]||a.emptyTo],""===e&&0!==i?"boolean"==typeof i?i?-1:1:-i||-1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:i||1:(isNaN(e)&&(e=x.getTextValue(e,n,r)),isNaN(t)&&(t=x.getTextValue(t,n,r)),e-t))},x.sortNumericDesc=function(e,t,n,r,i,a){return e===t?0:(a=a.config,i=a.string[a.empties[i]||a.emptyTo],""===e&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:(isNaN(e)&&(e=x.getTextValue(e,n,r)),isNaN(t)&&(t=x.getTextValue(t,n,r)),t-e))},x.sortNumeric=function(e,t){return e-t},x.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},x.replaceAccents=function(e){var t,n="[",r=x.characterEquivalents;if(!x.characterRegex){x.characterRegexArray={};for(t in r)"string"==typeof t&&(n+=r[t],x.characterRegexArray[t]=RegExp("["+r[t]+"]","g"));x.characterRegex=RegExp(n+"]")}if(x.characterRegex.test(e))for(t in r)"string"==typeof t&&(e=e.replace(x.characterRegexArray[t],t));return e},x.isValueInArray=function(e,t){var n,r=t.length;for(n=0;r>n;n++)if(t[n][0]===e)return n;return-1},x.addParser=function(e){var t,n=x.parsers.length,r=!0;for(t=0;n>t;t++)x.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(r=!1);r&&x.parsers.push(e)},x.getParserById=function(e){var t,n=x.parsers.length;for(t=0;n>t;t++)if(x.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return x.parsers[t];return!1},x.addWidget=function(e){x.widgets.push(e)},x.getWidgetById=function(e){var t,n,r=x.widgets.length;for(t=0;r>t;t++)if((n=x.widgets[t])&&n.hasOwnProperty("id")&&n.id.toLowerCase()===e.toLowerCase())return n},x.applyWidget=function(t,r){t=e(t)[0];var i,a,o,s=t.config,l=s.widgetOptions,c=[];!1!==r&&t.hasInitialized&&(t.isApplyingWidgets||t.isUpdating)||(s.debug&&(i=new Date),s.widgets.length&&(t.isApplyingWidgets=!0,s.widgets=e.grep(s.widgets,function(t,n){return e.inArray(t,s.widgets)===n}),e.each(s.widgets||[],function(e,t){(o=x.getWidgetById(t))&&o.id&&(o.priority||(o.priority=10),c[e]=o)}),c.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(c,function(n,i){i&&((r||!s.widgetInit[i.id])&&(i.hasOwnProperty("options")&&(l=t.config.widgetOptions=e.extend(!0,{},i.options,l)),i.hasOwnProperty("init")&&i.init(t,i,s,l),s.widgetInit[i.id]=!0),!r&&i.hasOwnProperty("format")&&i.format(t,s,l,!1))})),setTimeout(function(){t.isApplyingWidgets=!1},0),s.debug&&(a=s.widgets.length,n("Completed "+(!0===r?"initializing ":"applying ")+a+" widget"+(1!==a?"s":""),i)))},x.refreshWidgets=function(n,r,i){n=e(n)[0];var a,o=n.config,s=o.widgets,l=x.widgets,c=l.length;for(a=0;c>a;a++)l[a]&&l[a].id&&(r||0>e.inArray(l[a].id,s))&&(o.debug&&t('Refeshing widgets: Removing "'+l[a].id+'"'),l[a].hasOwnProperty("remove")&&o.widgetInit[l[a].id]&&(l[a].remove(n,o,o.widgetOptions),o.widgetInit[l[a].id]=!1));!0!==i&&x.applyWidget(n,r)},x.getData=function(t,n,r){var i="";t=e(t);var a,o;return t.length?(a=e.metadata?t.metadata():!1,o=" "+(t.attr("class")||""),"undefined"!=typeof t.data(r)||"undefined"!=typeof t.data(r.toLowerCase())?i+=t.data(r)||t.data(r.toLowerCase()):a&&"undefined"!=typeof a[r]?i+=a[r]:n&&"undefined"!=typeof n[r]?i+=n[r]:" "!==o&&o.match(" "+r+"-")&&(i=o.match(RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),e.trim(i)):""},x.formatFloat=function(t,n){if("string"!=typeof t||""===t)return t;var r;return t=(n&&n.config?!1!==n.config.usNumberFormat:"undefined"!=typeof n?n:1)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),r=parseFloat(t),isNaN(r)?e.trim(t):r},x.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,r){var i=r.config;return n&&(n=e.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&"number"==typeof i?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&"number"==typeof i?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var r,i=e?e.split("."):"",a="",o=i.length;for(r=0;o>r;r++)a+=("00"+i[r]).slice(-3);return e?t.formatFloat(a,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(""!==e?new Date(e.replace(/-/g,"/")).getTime()||e:"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&15>e.length},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,r,i){if(e){r=n.config;var a=r.$headers.filter("[data-column="+i+"]:last");i=a.length&&a[0].dateFormat||t.getData(a,r.headers[i],"dateFormat")||r.dateFormat,e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===i?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===i?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===i&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,r){return t=n.config,t=t.parserMetadataName?t.parserMetadataName:"sortValue",e(r).metadata()[t]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,r,i){var a,o,s,l,c,d,u=RegExp(r.cssChildRow,"i"),f=r.$tbodies;for(r.debug&&(c=new Date),n=0;n<f.length;n++)a=f.eq(n),d=a.children("tr").length,d>1&&(s=0,a=a.children("tr:visible").not(r.selectorRemove),a.each(function(){o=e(this),u.test(this.className)||s++,l=0===s%2,o.removeClass(i.zebra[l?1:0]).addClass(i.zebra[l?0:1])}));r.debug&&t.benchmark("Applying Zebra widget",c)},remove:function(t,n,r){var i;n=n.$tbodies;var a=(r.zebra||["even","odd"]).join(" ");for(r=0;r<n.length;r++)i=e.tablesorter.processTbody(t,n.eq(r),!0),i.children().removeClass(a),e.tablesorter.processTbody(t,i,!1)}})}(jQuery),function(e){var t=e.tablesorter;e.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(e,t){return t},ajaxObject:{dataType:"json"},processAjaxOnInit:!0,ajaxProcessing:function(){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,pageReset:0,size:10,savePages:!0,storageKey:"tablesorter-pager",fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var n=this,r=function(e,t){var n=e.cssDisabled,r=!!t,i=r||0===e.page,a=Math.min(e.totalPages,e.filteredPages),r=r||e.page===a-1||0===e.totalPages;e.updateArrows&&(e.$container.find(e.cssFirst+","+e.cssPrev)[i?"addClass":"removeClass"](n).attr("aria-disabled",i),e.$container.find(e.cssNext+","+e.cssLast)[r?"addClass":"removeClass"](n).attr("aria-disabled",r))},i=function(n,i,a){var o,s,l,c=n.config;if(o=c.$table.hasClass("hasFilters")&&!i.ajaxUrl,l=[],s=i.size||10,l=[c.widgetOptions&&c.widgetOptions.filter_filteredRow||"filtered",c.selectorRemove],i.countChildRows&&l.push(c.cssChildRow),l.join("|"),i.totalPages=Math.ceil(i.totalRows/s),i.filteredRows=o?0:i.totalRows,i.filteredPages=i.totalPages,o&&(e.each(c.cache[0].normalized,function(e,t){i.filteredRows+=i.regexRows.test(t[c.columns].$row[0].className)?0:1}),i.filteredPages=Math.ceil(i.filteredRows/s)||0),0<=Math.min(i.totalPages,i.filteredPages)&&(l=i.size*i.page>i.filteredRows,i.startRow=l?1:0===i.filteredRows?0:i.size*i.page+1,i.page=l?0:i.page,i.endRow=Math.min(i.filteredRows,i.totalRows,i.size*(i.page+1)),o=i.$container.find(i.cssPageDisplay),l=(i.ajaxData&&i.ajaxData.output?i.ajaxData.output||i.output:i.output).replace(/\{page([\-+]\d+)?\}/gi,function(e,t){return i.totalPages?i.page+(t?parseInt(t,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(e){e=e.replace(/[{}\s]/g,"");var t=e.split(":"),n=i.ajaxData,r=/(rows?|pages?)$/i.test(e)?0:"";return 1<t.length&&n&&n[t[0]]?n[t[0]][t[1]]:i[e]||(n?n[e]:r)||r}),o.length&&(o["INPUT"===o[0].tagName?"val":"html"](l),i.$goto.length))){for(l="",s=Math.min(i.totalPages,i.filteredPages),o=1;s>=o;o++)l+="<option>"+o+"</option>";i.$goto.html(l).val(i.page+1)}r(i),i.initialized&&!1!==a&&(c.$table.trigger("pagerComplete",i),i.savePages&&t.storage&&t.storage(n,i.storageKey,{page:i.page,size:i.size}))},a=function(t,n){var r,i=t.config,a=i.$tbodies.eq(0);n.fixedHeight&&(a.find("tr.pagerSavedHeightSpacer").remove(),r=e.data(t,"pagerSavedHeight"))&&(r-=a.height(),r>5&&e.data(t,"pagerLastSize")===n.size&&a.children("tr:visible").length<n.size&&a.append('<tr class="pagerSavedHeightSpacer '+i.selectorRemove.replace(/(tr)?\./g,"")+'" style="height:'+r+'px;"></tr>'))},o=function(t,n){var r=t.config.$tbodies.eq(0);r.find("tr.pagerSavedHeightSpacer").remove(),e.data(t,"pagerSavedHeight",r.height()),a(t,n),e.data(t,"pagerLastSize",n.size)},s=function(e,n){if(!n.ajaxUrl){var r,i=0,a=e.config,o=a.$tbodies.eq(0).children(),s=o.length,l=n.page*n.size,c=l+n.size,d=a.widgetOptions&&a.widgetOptions.filter_filteredRow||"filtered",u=0;for(r=0;s>r;r++)o[r].className.match(d)||(u===l&&o[r].className.match(a.cssChildRow)?o[r].style.display="none":(o[r].style.display=u>=l&&c>u?"":"none",u+=o[r].className.match(a.cssChildRow+"|"+a.selectorRemove.slice(1))&&!n.countChildRows?0:1,u===c&&"none"!==o[r].style.display&&o[r].className.match(t.css.cssHasChild)&&(i=r)));if(i>0&&o[i].className.match(t.css.cssHasChild))for(;++i<s&&o[i].className.match(a.cssChildRow);)o[i].style.display=""}},l=function(t,n){n.size=parseInt(n.$size.val(),10)||n.size,e.data(t,"pagerLastSize",n.size),r(n),n.removeRows||(s(t,n),e(t).bind("sortEnd.pager filterEnd.pager",function(){s(t,n)}))},c=function(n,r,o,s,l){if("function"==typeof o.ajaxProcessing){var c,d,u,f,h,p,g=r.config,m=g.$table,v="";if(c=o.ajaxProcessing(n,r)||[0,[]],n=m.find("thead th").length,t.showError(r),l)g.debug&&t.log("Ajax Error",s,l),t.showError(r,0===s.status?"Not connected, verify Network":404===s.status?"Requested page not found [404]":500===s.status?"Internal Server Error [500]":"parsererror"===l?"Requested JSON parse failed":"timeout"===l?"Time out error":"abort"===l?"Ajax Request aborted":"Uncaught error: "+s.statusText+" ["+s.status+"]"),g.$tbodies.eq(0).empty(),o.totalRows=0;else{if(e.isArray(c)?(s=isNaN(c[0])&&!isNaN(c[1]),l=c[s?1:0],o.totalRows=isNaN(l)?o.totalRows||0:l,s=0===o.totalRows?[""]:c[s?0:1]||[],h=c[2]):(o.ajaxData=c,o.totalRows=c.total,h=c.headers,s=c.rows),p=s.length,s instanceof jQuery)o.processAjaxOnInit&&g.$tbodies.eq(0).empty().append(s);else if(p){for(c=0;p>c;c++){for(v+="<tr>",l=0;l<s[c].length;l++)v+=/^\s*<td/.test(s[c][l])?e.trim(s[c][l]):"<td>"+s[c][l]+"</td>";v+="</tr>"}o.processAjaxOnInit&&g.$tbodies.eq(0).html(v)}o.processAjaxOnInit=!0,h&&h.length===n&&(f=(d=m.hasClass("hasStickyHeaders"))?g.widgetOptions.$sticky.children("thead:first").children().children():"",u=m.find("tfoot tr:first").children(),g.$headers.filter("th").each(function(n){var r,i=e(this);i.find("."+t.css.icon).length?(r=i.find("."+t.css.icon).clone(!0),i.find(".tablesorter-header-inner").html(h[n]).append(r),d&&f.length&&(r=f.eq(n).find("."+t.css.icon).clone(!0),f.eq(n).find(".tablesorter-header-inner").html(h[n]).append(r))):(i.find(".tablesorter-header-inner").html(h[n]),d&&f.length&&f.eq(n).find(".tablesorter-header-inner").html(h[n])),u.eq(n).html(h[n])}))}g.showProcessing&&t.isProcessing(r),o.totalPages=Math.ceil(o.totalRows/(o.size||10)),o.last.totalRows=o.totalRows,o.last.currentFilters=o.currentFilters,o.last.sortList=(g.sortList||[]).join(","),i(r,o),a(r,o),m.trigger("updateCache",[function(){o.initialized&&m.trigger("applyWidgets").trigger("pagerChange",o)}])}o.initialized||(o.initialized=!0,e(r).trigger("applyWidgets").trigger("pagerInitialized",o))},d=function(n,r){var i,a=u(n,r),o=e(document),s=n.config;""!==a&&(s.showProcessing&&t.isProcessing(n,!0),o.bind("ajaxError.pager",function(e,t,i,a){c(null,n,r,t,a),o.unbind("ajaxError.pager")}),i=++r.ajaxCounter,r.ajaxObject.url=a,r.ajaxObject.success=function(e){i<r.ajaxCounter||(c(e,n,r),o.unbind("ajaxError.pager"),"function"==typeof r.oldAjaxSuccess&&r.oldAjaxSuccess(e))},s.debug&&t.log("ajax initialized",r.ajaxObject),e.ajax(r.ajaxObject))},u=function(n,r){var i=n.config,a=r.ajaxUrl?r.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(e,t){return r.page+(t?parseInt(t,10):0)}).replace(/\{size\}/g,r.size):"",o=i.sortList,s=r.currentFilters||e(n).data("lastSearch")||[],l=a.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),c=a.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),d=[];return l&&(l=l[1],e.each(o,function(e,t){d.push(l+"["+t[0]+"]="+t[1])}),a=a.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,d.length?d.join("&"):l),d=[]),c&&(c=c[1],e.each(s,function(e,t){t&&d.push(c+"["+e+"]="+encodeURIComponent(t))}),a=a.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,d.length?d.join("&"):c),r.currentFilters=s),"function"==typeof r.customAjaxUrl&&(a=r.customAjaxUrl(n,a)),i.debug&&t.log("Pager ajax url: "+a),a},f=function(n,r,o){var l,c,d,u,f=e(n);l=n.config;var h=l.$table.hasClass("hasFilters"),p=o.page*o.size,g=o.size;if(!(1>(r&&r.length||0))){if(o.page>=o.totalPages&&v(n,o),o.isDisabled=!1,o.initialized&&f.trigger("pagerChange",o),o.removeRows){for(t.clearTableBody(n),l=t.processTbody(n,l.$tbodies.eq(0),!0),c=h?0:p,d=h?0:p,u=0;g>u&&c<r.length;)h&&/filtered/.test(r[c][0].className)||(d++,d>p&&g>=u&&(u++,l.append(r[c]))),c++;t.processTbody(n,l,!1)}else s(n,o);i(n,o),o.isDisabled||a(n,o),f.trigger("applyWidgets"),n.isUpdating&&f.trigger("updateComplete",n)}},h=function(n,i){i.ajax?r(i,!0):(i.isDisabled=!0,e.data(n,"pagerLastPage",i.page),e.data(n,"pagerLastSize",i.size),i.page=0,i.size=i.totalRows,i.totalPages=1,e(n).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove(),f(n,n.config.rowsCopy,i),n.config.debug&&t.log("pager disabled")),i.$size.add(i.$goto).each(function(){e(this).attr("aria-disabled","true").addClass(i.cssDisabled)[0].disabled=!0})},p=function(n,r,i){if(!r.isDisabled){var a=n.config,o=e(n),s=r.last,l=Math.min(r.totalPages,r.filteredPages);0>r.page&&(r.page=0),r.page>l-1&&0!==l&&(r.page=l-1),s.currentFilters=""===(s.currentFilters||[]).join("")?[]:s.currentFilters,r.currentFilters=""===(r.currentFilters||[]).join("")?[]:r.currentFilters,(s.page!==r.page||s.size!==r.size||s.totalRows!==r.totalRows||(s.currentFilters||[]).join(",")!==(r.currentFilters||[]).join(",")||s.sortList!==(a.sortList||[]).join(","))&&(a.debug&&t.log("Pager changing to page "+r.page),r.last={page:r.page,size:r.size,sortList:(a.sortList||[]).join(","),totalRows:r.totalRows,currentFilters:r.currentFilters||[]},r.ajax?d(n,r):r.ajax||f(n,a.rowsCopy,r),e.data(n,"pagerLastPage",r.page),r.initialized&&!1!==i&&(o.trigger("pageMoved",r).trigger("applyWidgets"),n.isUpdating&&o.trigger("updateComplete")))}},g=function(t,n,r){r.size=n||r.size||10,r.$size.val(r.size),e.data(t,"pagerLastPage",r.page),e.data(t,"pagerLastSize",r.size),r.totalPages=Math.ceil(r.totalRows/r.size),r.filteredPages=Math.ceil(r.filteredRows/r.size),p(t,r)},m=function(e,t){t.page=0,p(e,t)},v=function(e,t){t.page=Math.min(t.totalPages,t.filteredPages)-1,p(e,t)},b=function(e,t){t.page++,t.page>=Math.min(t.totalPages,t.filteredPages)-1&&(t.page=Math.min(t.totalPages,t.filteredPages)-1),p(e,t)},y=function(e,t){t.page--,0>=t.page&&(t.page=0),p(e,t)},w=function(n,r,i){var o,s=n.config;r.$size.add(r.$goto).removeClass(r.cssDisabled).removeAttr("disabled").attr("aria-disabled","false"),r.isDisabled=!1,r.page=e.data(n,"pagerLastPage")||r.page||0,r.size=e.data(n,"pagerLastSize")||parseInt(r.$size.find("option[selected]").val(),10)||r.size||10,r.$size.val(r.size),r.totalPages=Math.ceil(Math.min(r.totalRows,r.filteredRows)/r.size),n.id&&(o=n.id+"_pager_info",r.$container.find(r.cssPageDisplay).attr("id",o),s.$table.attr("aria-describedby",o)),i&&(s.$table.trigger("updateRows"),g(n,r.size,r),l(n,r),a(n,r),s.debug&&t.log("pager enabled"))};n.appender=function(t,n){var r=t.config,a=r.pager;a.ajax||(r.rowsCopy=n,a.totalRows=a.countChildRows?r.$tbodies.eq(0).children().length:n.length,a.size=e.data(t,"pagerLastSize")||a.size||10,a.totalPages=Math.ceil(a.totalRows/a.size),f(t,n,a),i(t,a,!1))},n.construct=function(r){return this.each(function(){if(this.config&&this.hasInitialized){var c,d,u,f=this,x=f.config,C=x.widgetOptions,k=x.pager=e.extend(!0,{},e.tablesorterPager.defaults,r),T=x.$table,S=k.$container=e(k.container).addClass("tablesorter-pager").show();x.debug&&t.log("Pager initializing"),k.oldAjaxSuccess=k.oldAjaxSuccess||k.ajaxObject.success,x.appender=n.appender,t.filter&&0<=e.inArray("filter",x.widgets)&&(k.currentFilters=x.$table.data("lastSearch")||t.filter.setDefaults(f,x,x.widgetOptions)||[],t.setFilters(f,k.currentFilters,!1)),k.savePages&&t.storage&&(c=t.storage(f,k.storageKey)||{},k.page=isNaN(c.page)?k.page:c.page,k.size=(isNaN(c.size)?k.size:c.size)||10,e.data(f,"pagerLastSize",k.size)),k.regexRows=RegExp("("+(C.filter_filteredRow||"filtered")+"|"+x.selectorRemove.substring(1)+"|"+x.cssChildRow+")"),T.unbind("filterStart filterEnd sortEnd disable enable destroy update updateRows updateAll addRows pageSize ".split(" ").join(".pager ")).bind("filterStart.pager",function(e,t){k.currentFilters=t,!1!==k.pageReset&&(x.lastCombinedFilter||"")!==(t||[]).join("")&&(k.page=k.pageReset)
}).bind("filterEnd.pager sortEnd.pager",function(){k.initialized&&(i(f,k,!1),p(f,k,!1),a(f,k))}).bind("disable.pager",function(e){e.stopPropagation(),h(f,k)}).bind("enable.pager",function(e){e.stopPropagation(),w(f,k,!0)}).bind("destroy.pager",function(n){n.stopPropagation(),h(f,k),k.$container.hide(),f.config.appender=null,k.initialized=!1,delete f.config.rowsCopy,e(f).unbind("destroy.pager sortEnd.pager filterEnd.pager enable.pager disable.pager"),t.storage&&t.storage(f,k.storageKey,"")}).bind("update.pager updateRows.pager updateAll.pager addRows.pager ",function(e){e.stopPropagation(),s(f,k)}).bind("pageSize.pager",function(e,t){e.stopPropagation(),g(f,parseInt(t,10)||10,k),s(f,k),i(f,k,!1),k.$size.length&&k.$size.val(k.size)}).bind("pageSet.pager",function(e,t){e.stopPropagation(),k.page=(parseInt(t,10)||1)-1,k.$goto.length&&k.$goto.val(k.size),p(f,k),i(f,k,!1)}),d=[k.cssFirst,k.cssPrev,k.cssNext,k.cssLast],u=[m,y,b,v],S.find(d.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(t){t.stopPropagation();var n=e(this),r=d.length;if(!n.hasClass(k.cssDisabled))for(t=0;r>t;t++)if(n.is(d[t])){u[t](f,k);break}}),k.$goto=S.find(k.cssGoto),k.$goto.length&&k.$goto.unbind("change").bind("change",function(){k.page=e(this).val()-1,p(f,k),i(f,k,!1)}),k.$size=S.find(k.cssPageSize),k.$size.length&&k.$size.unbind("change.pager").bind("change.pager",function(){return k.$size.val(e(this).val()),e(this).hasClass(k.cssDisabled)||(g(f,parseInt(e(this).val(),10),k),o(f,k)),!1}),k.initialized=!1,T.trigger("pagerBeforeInitialized",k),w(f,k,!1),"string"==typeof k.ajaxUrl?(k.ajax=!0,x.widgetOptions.filter_serversideFiltering=!0,x.serverSideSorting=!0,p(f,k)):(k.ajax=!1,e(this).trigger("appendCache",!0),l(f,k)),o(f,k),k.ajax||(k.initialized=!0,e(f).trigger("pagerInitialized",k))}})}}}),t.showError=function(t,n){e(t).each(function(){var t=this.config,r=t.pager&&t.pager.cssErrorRow||t.widgetOptions.pager_css&&t.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";t&&("undefined"==typeof n?t.$table.find("thead").find(t.selectorRemove).remove():e(/tr\>/.test(n)?n:'<tr><td colspan="'+t.columns+'">'+n+"</td></tr>").click(function(){e(this).remove()}).appendTo(t.$table.find("thead:first")).addClass(r+" "+t.selectorRemove.replace(/^[.#]/,"")).attr({role:"alert","aria-live":"assertive"}))})},e.fn.extend({tablesorterPager:e.tablesorterPager.construct})}(jQuery),function(e){var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",grip:"tablesorter-resizer-grip",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"}),t.storage=function(t,n,r,i){t=e(t)[0];var a,o,s=!1;a={},o=t.config;var l=e(t);if(t=i&&i.id||l.attr(i&&i.group||"data-table-group")||t.id||e(".tablesorter").index(l),i=i&&i.url||l.attr(i&&i.page||"data-table-page")||o&&o.fixedUrl||window.location.pathname,"localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),s=!0,window.localStorage.removeItem("_tmptest")}catch(c){}return e.parseJSON&&(s?a=e.parseJSON(localStorage[n]||"{}"):(o=document.cookie.split(/[;\s|=]/),a=e.inArray(n,o)+1,a=0!==a?e.parseJSON(o[a]||"{}"):{})),(r||""===r)&&window.JSON&&JSON.hasOwnProperty("stringify")?(a[i]||(a[i]={}),a[i][t]=r,s?localStorage[n]=JSON.stringify(a):(r=new Date,r.setTime(r.getTime()+31536e6),document.cookie=n+"="+JSON.stringify(a).replace(/\"/g,'"')+"; expires="+r.toGMTString()+"; path=/"),void 0):a&&a[i]?a[i][t]:""},t.addHeaderResizeEvent=function(t,n,r){var i;r=e.extend({},{timer:250},r);var a=t.config,o=a.widgetOptions,s=function(t){o.resize_flag=!0,i=[],a.$headers.each(function(){var t=e(this),n=t.data("savedSizes")||[0,0],r=this.offsetWidth,a=this.offsetHeight;(r!==n[0]||a!==n[1])&&(t.data("savedSizes",[r,a]),i.push(this))}),i.length&&!1!==t&&a.$table.trigger("resize",[i]),o.resize_flag=!1};return s(!1),clearInterval(o.resize_timer),n?o.resize_flag=!1:void(o.resize_timer=setInterval(function(){o.resize_flag||s()},r.timer))},t.addWidget({id:"uitheme",priority:10,format:function(n,r,i){var a,o,s,l=t.themes;a=r.$table,s=r.$headers;var c=r.theme||"jui",d=l[c]||l.jui,l=d.sortNone+" "+d.sortDesc+" "+d.sortAsc;for(r.debug&&(o=new Date),a.hasClass("tablesorter-"+c)&&r.theme!==c&&n.hasInitialized||(""!==d.even&&(i.zebra[0]+=" "+d.even),""!==d.odd&&(i.zebra[1]+=" "+d.odd),a.find("caption").addClass(d.caption),n=a.removeClass(""===r.theme?"":"tablesorter-"+r.theme).addClass("tablesorter-"+c+" "+d.table).find("tfoot"),n.length&&n.find("tr").addClass(d.footerRow).children("th, td").addClass(d.footerCells),s.addClass(d.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](d.hover)}),s.find("."+t.css.wrapper).length||s.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),r.cssIcon&&s.find("."+t.css.icon).addClass(d.icons),a.hasClass("hasFilters")&&s.find("."+t.css.filterRow).addClass(d.filterRow)),a=0;a<r.columns;a++)n=r.$headers.add(r.$extraHeaders).filter('[data-column="'+a+'"]'),i=t.css.icon?n.find("."+t.css.icon):n,r.$headers.filter('[data-column="'+a+'"]:last')[0].sortDisabled?(n.removeClass(l),i.removeClass(l+" "+d.icons)):(s=n.hasClass(t.css.sortAsc)?d.sortAsc:n.hasClass(t.css.sortDesc)?d.sortDesc:n.hasClass(t.css.header)?d.sortNone:"",n[s===d.sortNone?"removeClass":"addClass"](d.active),i.removeClass(l).addClass(s));r.debug&&t.benchmark("Applying "+c+" theme",o)},remove:function(e,n,r){e=n.$table,n=n.theme||"jui",r=t.themes[n]||t.themes.jui;var i=e.children("thead").children(),a=r.sortNone+" "+r.sortDesc+" "+r.sortAsc;e.removeClass("tablesorter-"+n+" "+r.table).find(t.css.header).removeClass(r.header),i.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(r.hover+" "+a+" "+r.active).find("."+t.css.filterRow).removeClass(r.filterRow),i.find("."+t.css.icon).removeClass(r.icons)}}),t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(n,r,i){var a,o,s,l,c,d,u,f,h=r.$table,p=r.$tbodies,g=r.sortList,m=g.length,v=i&&i.columns||["primary","secondary","tertiary"],b=v.length-1;for(u=v.join(" "),r.debug&&(a=new Date),s=0;s<p.length;s++)o=t.processTbody(n,p.eq(s),!0),l=o.children("tr"),l.each(function(){if(c=e(this),"none"!==this.style.display&&(d=c.children().removeClass(u),g&&g[0]&&(d.eq(g[0][0]).addClass(v[0]),m>1)))for(f=1;m>f;f++)d.eq(g[f][0]).addClass(v[f]||v[b])}),t.processTbody(n,o,!1);if(n=!1!==i.columns_thead?["thead tr"]:[],!1!==i.columns_tfoot&&n.push("tfoot tr"),n.length&&(l=h.find(n.join(",")).children().removeClass(u),m))for(f=0;m>f;f++)l.filter('[data-column="'+g[f][0]+'"]').addClass(v[f]||v[b]);r.debug&&t.benchmark("Applying Columns widget",a)},remove:function(n,r,i){var a=r.$tbodies,o=(i.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(o),r.$table.children("tfoot").children("tr").children("th, td").removeClass(o),r=0;r<a.length;r++)i=t.processTbody(n,a.eq(r),!0),i.children("tr").each(function(){e(this).children().removeClass(o)}),t.processTbody(n,i,!1)}}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value"},format:function(e,n,r){n.$table.hasClass("hasFilters")||t.filter.init(e,n,r)},remove:function(n,r,i){var a,o=r.$tbodies;for(r.$table.removeClass("hasFilters").unbind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter ")).find("."+t.css.filterRow).remove(),r=0;r<o.length;r++)a=t.processTbody(n,o.eq(r),!0),a.children().removeClass(i.filter_filteredRow).show(),t.processTbody(n,a,!1);i.filter_reset&&e(document).undelegate(i.filter_reset,"click.tsfilter")}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(e,n,r,i){if(t.filter.regex.regex.test(n)){var a;e=t.filter.regex.regex.exec(n);try{a=RegExp(e[1],e[2]).test(i)}catch(o){a=!1}return a}return null},operators:function(n,r,i,a,o,s,l,c,d){if(/^[<>]=?/.test(r)){var u;return i=l.config,n=t.formatFloat(r.replace(t.filter.regex.operators,""),l),c=i.parsers[s],i=n,(d[s]||"numeric"===c.type)&&(u=c.format(e.trim(""+r.replace(t.filter.regex.operators,"")),l,[],s),n="number"!=typeof u||""===u||isNaN(u)?n:u),a=!d[s]&&"numeric"!==c.type||isNaN(n)||"undefined"==typeof o?isNaN(a)?t.formatFloat(a.replace(t.filter.regex.nondigit,""),l):t.formatFloat(a,l):o,/>/.test(r)&&(u=/>=/.test(r)?a>=n:a>n),/</.test(r)&&(u=/<=/.test(r)?n>=a:n>a),u||""!==i||(u=!0),u}return null},exact:function(n,r,i,a,o,s,l,c,d,u){return t.filter.regex.exact.test(r)?(n=r.replace(t.filter.regex.exact,""),u?0<=e.inArray(n,u):n==a):null},notMatch:function(t,n,r,i,a,o,s,l){return/^\!/.test(n)?(n=n.replace("!",""),t=i.search(e.trim(n)),""===n?!0:!(l.filter_startsWith?0===t:t>=0)):null},and:function(n,r,i,a){if(t.filter.regex.andTest.test(n)){for(n=r.split(t.filter.regex.andSplit),r=0<=a.search(e.trim(n[0])),i=n.length-1;r&&i;)r=r&&0<=a.search(e.trim(n[i])),i--;return r}return null},range:function(e,n,r,i,a,o,s,l,c){if(t.filter.regex.toTest.test(n)){e=s.config;var d=n.split(t.filter.regex.toSplit);return r=t.formatFloat(d[0].replace(t.filter.regex.nondigit,""),s),l=t.formatFloat(d[1].replace(t.filter.regex.nondigit,""),s),(c[o]||"numeric"===e.parsers[o].type)&&(n=e.parsers[o].format(""+d[0],s,e.$headers.eq(o),o),r=""===n||isNaN(n)?r:n,n=e.parsers[o].format(""+d[1],s,e.$headers.eq(o),o),l=""===n||isNaN(n)?l:n),n=!c[o]&&"numeric"!==e.parsers[o].type||isNaN(r)||isNaN(l)?isNaN(i)?t.formatFloat(i.replace(t.filter.regex.nondigit,""),s):t.formatFloat(i,s):a,r>l&&(i=r,r=l,l=i),n>=r&&l>=n||""===r||""===l}return null},wild:function(n,r,i,a,o,s,l,c,d,u){return/[\?|\*]/.test(r)||t.filter.regex.orReplace.test(n)?(n=l.config,r=r.replace(t.filter.regex.orReplace,"|"),!n.$headers.filter('[data-column="'+s+'"]:last').hasClass("filter-match")&&/\|/.test(r)&&(r=e.isArray(u)?"("+r+")":"^("+r+")$"),RegExp(r.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(a)):null},fuzzy:function(e,t,n,r){if(/^~/.test(t)){e=0,n=r.length;var i=t.slice(1);for(t=0;n>t;t++)r[t]===i[e]&&(e+=1);return e===i.length?!0:!1}return null}},init:function(n,r,i){t.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},t.language);var a,o,s,l,c,d;if(a=t.filter.regex,r.debug&&(d=new Date),r.$table.addClass("hasFilters"),e.extend(a,{child:RegExp(r.cssChildRow),filtered:RegExp(i.filter_filteredRow),alreadyFiltered:RegExp("(\\s+("+t.language.or+"|-|"+t.language.to+")\\s+)","i"),toTest:RegExp("\\s+(-|"+t.language.to+")\\s+","i"),toSplit:RegExp("(?:\\s+(?:-|"+t.language.to+")\\s+)","gi"),andTest:RegExp("\\s+("+t.language.and+"|&&)\\s+","i"),andSplit:RegExp("(?:\\s+(?:"+t.language.and+"|&&)\\s+)","gi"),orReplace:RegExp("\\s+("+t.language.or+")\\s+","gi")}),!1!==i.filter_columnFilters&&r.$headers.filter(".filter-false").length!==r.$headers.length&&t.filter.buildRow(n,r,i),r.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter "),function(a,o){return r.$table.find("."+t.css.filterRow).toggle(!(i.filter_hideEmpty&&e.isEmptyObject(r.cache))),/(search|filter)/.test(a.type)||(a.stopPropagation(),t.filter.buildDefault(n,!0)),"filterReset"===a.type?t.filter.searching(n,[]):"filterEnd"===a.type?t.filter.buildDefault(n,!0):(o="search"===a.type?o:"updateComplete"===a.type?r.$table.data("lastSearch"):"",/(update|add)/.test(a.type)&&"updateComplete"!==a.type&&(r.lastCombinedFilter=null,r.lastSearch=[]),t.filter.searching(n,o,!0)),!1}),i.filter_reset&&(i.filter_reset instanceof e?i.filter_reset.click(function(){r.$table.trigger("filterReset")}):e(i.filter_reset).length&&e(document).undelegate(i.filter_reset,"click.tsfilter").delegate(i.filter_reset,"click.tsfilter",function(){r.$table.trigger("filterReset")})),i.filter_functions)for(l in i.filter_functions)if(i.filter_functions.hasOwnProperty(l)&&"string"==typeof l)if(s=r.$headers.filter('[data-column="'+l+'"]:last'),a="",!0!==i.filter_functions[l]||s.hasClass("filter-false")){if("string"==typeof l&&!s.hasClass("filter-false")){for(o in i.filter_functions[l])"string"==typeof o&&(a+=""===a?'<option value="">'+(s.data("placeholder")||s.attr("data-placeholder")||i.filter_placeholder.select||"")+"</option>":"",a+='<option value="'+o+'">'+o+"</option>");r.$table.find("thead").find("select."+t.css.filter+'[data-column="'+l+'"]').append(a)}}else t.filter.buildSelect(n,l);t.filter.buildDefault(n,!0),t.filter.bindSearch(n,r.$table.find("."+t.css.filter),!0),i.filter_external&&t.filter.bindSearch(n,i.filter_external),i.filter_hideFilters&&t.filter.hideFilters(n,r),r.showProcessing&&r.$table.bind("filterStart"+r.namespace+"filter filterEnd"+r.namespace+"filter",function(i,a){s=a?r.$table.find("."+t.css.header).filter("[data-column]").filter(function(){return""!==a[e(this).data("column")]}):"",t.isProcessing(n,"filterStart"===i.type,a?s:"")}),r.debug&&t.benchmark("Applying Filter widget",d),r.$table.bind("tablesorter-initialized pagerInitialized",function(){c=t.filter.setDefaults(n,r,i)||[],c.length&&t.setFilters(n,c,!0),r.$table.trigger("filterFomatterUpdate"),t.filter.checkFilters(n,c)}),i.filter_initialized=!0,r.$table.trigger("filterInit")},setDefaults:function(n,r,i){var a,o=t.getFilters(n)||[];if(i.filter_saveFilters&&t.storage&&(a=t.storage(n,"tablesorter-filters")||[],(n=e.isArray(a))&&""===a.join("")||!n||(o=a)),""===o.join(""))for(n=0;n<r.columns;n++)o[n]=r.$headers.filter('[data-column="'+n+'"]:last').attr(i.filter_defaultAttrib)||o[n];return r.$table.data("lastSearch",o),o},buildRow:function(n,r,i){var a,o,s,l=r.columns;for(o='<tr class="'+t.css.filterRow+'">',n=0;l>n;n++)o+="<td></td>";for(r.$filters=e(o+"</tr>").appendTo(r.$table.children("thead").eq(0)).find("td"),n=0;l>n;n++)a=r.$headers.filter('[data-column="'+n+'"]:last'),o=i.filter_functions&&i.filter_functions[n]&&"function"!=typeof i.filter_functions[n]||a.hasClass("filter-select"),s=t.getData?"false"===t.getData(a[0],r.headers[n],"filter"):r.headers[n]&&r.headers[n].hasOwnProperty("filter")&&!1===r.headers[n].filter||a.hasClass("filter-false"),o?o=e("<select>").appendTo(r.$filters.eq(n)):(i.filter_formatter&&e.isFunction(i.filter_formatter[n])?((o=i.filter_formatter[n](r.$filters.eq(n),n))&&0===o.length&&(o=r.$filters.eq(n).children("input")),o&&(0===o.parent().length||o.parent().length&&o.parent()[0]!==r.$filters[n])&&r.$filters.eq(n).append(o)):o=e('<input type="search">').appendTo(r.$filters.eq(n)),o&&o.attr("placeholder",a.data("placeholder")||a.attr("data-placeholder")||i.filter_placeholder.search||"")),o&&(a=(e.isArray(i.filter_cssFilter)?"undefined"!=typeof i.filter_cssFilter[n]?i.filter_cssFilter[n]||"":"":i.filter_cssFilter)||"",o.addClass(t.css.filter+" "+a).attr("data-column",n),s&&(o.attr("placeholder","").addClass("disabled")[0].disabled=!0))},bindSearch:function(n,r,i){if(n=e(n)[0],r=e(r),r.length){var a=n.config,o=a.widgetOptions,s=o.filter_$externalFilters;!0!==i&&(o.filter_$anyMatch=r.filter('[data-column="all"]'),o.filter_$externalFilters=s&&s.length?o.filter_$externalFilters.add(r):r,t.setFilters(n,a.$table.data("lastSearch")||[],!1===i)),r.attr("data-lastSearchTime",(new Date).getTime()).unbind(["keypress","keyup","search","change",""].join(a.namespace+"filter ")).bind(["keyup","search","change",""].join(a.namespace+"filter "),function(r){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===r.which)this.value="";else if("number"==typeof o.filter_liveSearch&&this.value.length<o.filter_liveSearch&&""!==this.value||"keyup"===r.type&&(32>r.which&&8!==r.which&&!0===o.filter_liveSearch&&13!==r.which||37<=r.which&&40>=r.which||13!==r.which&&!1===o.filter_liveSearch))return;t.filter.searching(n,!0,!0)}).bind("keypress."+a.namespace+"filter",function(t){13===t.which&&(t.preventDefault(),e(this).blur())}),a.$table.bind("filterReset",function(){r.val("")})}},checkFilters:function(n,r,i){var a=n.config,o=a.widgetOptions,s=e.isArray(r),l=s?r:t.getFilters(n,!0),c=(l||[]).join("");if(!e.isEmptyObject(a.cache)&&(s&&t.setFilters(n,l,!1,!0!==i),o.filter_hideFilters&&a.$table.find("."+t.css.filterRow).trigger(""===c?"mouseleave":"mouseenter"),a.lastCombinedFilter!==c||!1===r)){if(!1===r&&(a.lastCombinedFilter=null,a.lastSearch=[]),a.$table.trigger("filterStart",[l]),!a.showProcessing)return t.filter.findRows(n,l,c),!1;setTimeout(function(){return t.filter.findRows(n,l,c),!1},30)}},hideFilters:function(n,r){var i,a,o;e(n).find("."+t.css.filterRow).addClass("hideme").bind("mouseenter mouseleave",function(t){i=e(this),clearTimeout(o),o=setTimeout(function(){/enter|over/.test(t.type)?i.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==i[0]&&""===r.lastCombinedFilter&&i.addClass("hideme")},200)}).find("input, select").bind("focus blur",function(n){a=e(this).closest("tr"),clearTimeout(o),o=setTimeout(function(){""===t.getFilters(r.$table).join("")&&a["focus"===n.type?"removeClass":"addClass"]("hideme")},200)})},findRows:function(n,r,i){if(n.config.lastCombinedFilter!==i){var a,o,s,l,c,d,u,f,h,p,g,m,v,b,y,w,x,C,k,T,S,D,$,z,R,F=t.filter.regex,M=n.config,P=M.widgetOptions,N=M.columns,I=M.$table.children("tbody"),_=["range","notMatch","operators"],A=M.$headers.map(function(n){return M.parsers&&M.parsers[n]&&M.parsers[n].parsed||t.getData&&"parsed"===t.getData(M.$headers.filter('[data-column="'+n+'"]:last'),M.headers[n],"filter")||e(this).hasClass("filter-parsed")}).get();for(M.debug&&(k=new Date),c=0;c<I.length;c++)if(!I.eq(c).hasClass(M.cssInfoBlock||t.css.info)){if(d=t.processTbody(n,I.eq(c),!0),f=M.columns,s=e(e.map(M.cache[c].normalized,function(e){return e[f].$row.get()})),o=s.length,""===i||P.filter_serversideFiltering)s.removeClass(P.filter_filteredRow).not("."+M.cssChildRow).show();else{for(w=!0,u=M.lastSearch||M.$table.data("lastSearch")||[],p=0;f>p;p++)h=r[p]||"",w||(p=f),w=!(!w||!u.length||0!==h.indexOf(u[p]||"")||F.alreadyFiltered.test(h)||/[=\"\|!]/.test(h)||/(>=?\s*-\d)/.test(h)||/(<=?\s*\d)/.test(h)||""!==h&&P.filter_functions&&!0===P.filter_functions[p]&&!M.$headers.filter('[data-column="'+p+'"]:last').hasClass("filter-match"));for(u=s.not("."+P.filter_filteredRow).length,w&&0===u&&(w=!1),M.debug&&t.log("Searching through "+(w&&o>u?u:"all")+" rows"),(P.filter_$anyMatch&&P.filter_$anyMatch.length||r[M.columns])&&(T=P.filter_$anyMatch&&P.filter_$anyMatch.val()||r[M.columns]||"",M.sortLocaleCompare&&(T=t.replaceAccents(T)),S=T.toLowerCase()),l=0;o>l;l++)if(h=s[l].className,!(F.child.test(h)||w&&F.filtered.test(h))){for(C=!0,h=s.eq(l).nextUntil("tr:not(."+M.cssChildRow+")"),p=h.length&&P.filter_childRows?h.text():"",p=P.filter_ignoreCase?p.toLocaleLowerCase():p,u=s.eq(l).children(),T&&(D=u.map(function(n){return A[n]?n=M.cache[c].normalized[l][n]:(n=P.filter_ignoreCase?e(this).text().toLowerCase():e(this).text(),M.sortLocaleCompare&&(n=t.replaceAccents(n))),n}).get(),$=D.join(" "),z=$.toLowerCase(),R=M.cache[c].normalized[l].slice(0,-1).join(" "),x=null,e.each(t.filter.types,function(t,r){return 0>e.inArray(t,_)&&(b=r(T,S,$,z,R,N,n,P,A,D),null!==b)?(x=b,!1):void 0}),C=null!==x?x:0<=(z+p).indexOf(S)),f=0;N>f;f++)r[f]&&(a=M.cache[c].normalized[l][f],P.filter_useParsedData||A[f]?g=a:(g=e.trim(u.eq(f).text()),g=M.sortLocaleCompare?t.replaceAccents(g):g),m=!F.type.test(typeof g)&&P.filter_ignoreCase?g.toLocaleLowerCase():g,y=C,r[f]=M.sortLocaleCompare?t.replaceAccents(r[f]):r[f],v=P.filter_ignoreCase?(r[f]||"").toLocaleLowerCase():r[f],P.filter_functions&&P.filter_functions[f]?!0===P.filter_functions[f]?y=M.$headers.filter('[data-column="'+f+'"]:last').hasClass("filter-match")?0<=m.search(v):r[f]===g:"function"==typeof P.filter_functions[f]?y=P.filter_functions[f](g,a,r[f],f,s.eq(l)):"function"==typeof P.filter_functions[f][r[f]]&&(y=P.filter_functions[f][r[f]](g,a,r[f],f,s.eq(l))):(x=null,e.each(t.filter.types,function(e,t){return b=t(r[f],v,g,m,a,f,n,P,A),null!==b?(x=b,!1):void 0}),null!==x?y=x:(g=(m+p).indexOf(v),y=!P.filter_startsWith&&g>=0||P.filter_startsWith&&0===g)),C=y?C:!1);s.eq(l).toggle(C).toggleClass(P.filter_filteredRow,!C),h.length&&h.toggleClass(P.filter_filteredRow,!C)}}t.processTbody(n,d,!1)}M.lastCombinedFilter=i,M.lastSearch=r,M.$table.data("lastSearch",r),P.filter_saveFilters&&t.storage&&t.storage(n,"tablesorter-filters",r),M.debug&&t.benchmark("Completed filter widget search",k),M.$table.trigger("filterEnd"),setTimeout(function(){M.$table.trigger("applyWidgets")},0)}},getOptionSource:function(n,r,i){var a,o=n.config,s=[],l=!1,c=o.widgetOptions.filter_selectSource;return e.isFunction(c)?l=c(n,r,i):"object"===e.type(c)&&c.hasOwnProperty(r)&&(l=c[r](n,r,i)),!1===l&&(l=t.filter.getOptions(n,r,i)),l=e.grep(l,function(t,n){return e.inArray(t,l)===n}),o.$headers.filter('[data-column="'+r+'"]:last').hasClass("filter-select-nosort")||(e.each(l,function(e,t){s.push({t:t,p:o.parsers&&o.parsers[r].format(t,n,[],r)||t})}),a=o.textSorter||"",s.sort(function(i,o){var s=i.p.toString(),l=o.p.toString();return e.isFunction(a)?a(s,l,!0,r,n):"object"==typeof a&&a.hasOwnProperty(r)?a[r](s,l,!0,r,n):t.sortNatural?t.sortNatural(s,l):!0}),l=[],e.each(s,function(e,t){l.push(t.t)})),l},getOptions:function(t,n,r){var i,a,o,s,l=t.config,c=l.widgetOptions,d=l.$table.children("tbody"),u=[];for(i=0;i<d.length;i++)if(!d.eq(i).hasClass(l.cssInfoBlock))for(s=l.cache[i],a=l.cache[i].normalized.length,t=0;a>t;t++)o=s.row?s.row[t]:s.normalized[t][l.columns].$row[0],r&&o.className.match(c.filter_filteredRow)||(c.filter_useParsedData?u.push(""+s.normalized[t][n]):(o=o.cells[n])&&u.push(e.trim(o.textContent||o.innerText||e(o).text())));return u},buildSelect:function(n,r,i,a){if(n.config.cache&&!e.isEmptyObject(n.config.cache)){r=parseInt(r,10);var o;o=n.config;var s=o.widgetOptions,l=o.$headers.filter('[data-column="'+r+'"]:last'),l='<option value="">'+(l.data("placeholder")||l.attr("data-placeholder")||s.filter_placeholder.select||"")+"</option>",c=t.filter.getOptionSource(n,r,a),d=o.$table.find("thead").find("select."+t.css.filter+'[data-column="'+r+'"]').val();for(n=0;n<c.length;n++)a=c[n].replace(/\"/g,"&quot;"),l+=""!==c[n]?'<option value="'+a+'"'+(d===a?' selected="selected"':"")+">"+c[n]+"</option>":"";o=(o.$filters?o.$filters:o.$table.children("thead")).find("."+t.css.filter),s.filter_$externalFilters&&(o=o&&o.length?o.add(s.filter_$externalFilters):s.filter_$externalFilters),o.filter('select[data-column="'+r+'"]')[i?"html":"append"](l)}},buildDefault:function(e,n){var r,i,a=e.config,o=a.widgetOptions,s=a.columns;for(r=0;s>r;r++)i=a.$headers.filter('[data-column="'+r+'"]:last'),(i.hasClass("filter-select")||o.filter_functions&&!0===o.filter_functions[r])&&!i.hasClass("filter-false")&&(o.filter_functions||(o.filter_functions={}),o.filter_functions[r]=!0,t.filter.buildSelect(e,r,n,i.hasClass(o.filter_onlyAvail)))},searching:function(e,n,r){if("undefined"==typeof n||!0===n){var i=e.config.widgetOptions;clearTimeout(i.searchTimer),i.searchTimer=setTimeout(function(){t.filter.checkFilters(e,n,r)},i.filter_liveSearch?i.filter_searchDelay:10)}else t.filter.checkFilters(e,n,r)}},t.getFilters=function(n,r,i,a){var o,s=!1,l=n?e(n)[0].config:"",c=l?l.widgetOptions:"";if(!0!==r&&c&&!c.filter_columnFilters)return e(n).data("lastSearch");if(l&&(l.$filters&&(o=l.$filters.find("."+t.css.filter)),c.filter_$externalFilters&&(o=o&&o.length?o.add(c.filter_$externalFilters):c.filter_$externalFilters),o&&o.length))for(s=i||[],n=0;n<l.columns+1;n++)r=o.filter('[data-column="'+(n===l.columns?"all":n)+'"]'),r.length&&(r=r.sort(function(t,n){return e(n).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}),e.isArray(i)?(a?r.slice(1):r).val(i[n]).trigger("change.tsfilter"):(s[n]=r.val()||"",r.slice(1).val(s[n])),n===l.columns&&r.length&&(c.filter_$anyMatch=r));return 0===s.length&&(s=!1),s},t.setFilters=function(n,r,i,a){var o=n?e(n)[0].config:"";return n=t.getFilters(n,!0,r,a),o&&i&&(o.lastCombinedFilter=null,o.lastSearch=[],t.filter.searching(o.$table[0],r,a),o.$table.trigger("filterFomatterUpdate")),!!n},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,r,i){if(!(r.$table.hasClass("hasStickyHeaders")||0<=e.inArray("filter",r.widgets)&&!r.$table.hasClass("hasFilters"))){var a,o=r.$table,s=e(i.stickyHeaders_attachTo),l=o.children("thead:first"),c=s.length?s:e(window),d=l.children("tr").not(".sticky-false").children(),u="."+t.css.headerIn,f=o.find("tfoot"),h=isNaN(i.stickyHeaders_offset)?e(i.stickyHeaders_offset):"",p=s.length?0:h.length?h.height()||0:parseInt(i.stickyHeaders_offset,10)||0,g=i.$sticky=o.clone().addClass("containsStickyHeaders").css({position:s.length?"absolute":"fixed",margin:0,top:p,left:0,visibility:"hidden",zIndex:i.stickyHeaders_zIndex?i.stickyHeaders_zIndex:2}),m=g.children("thead:first").addClass(t.css.sticky+" "+i.stickyHeaders),v="",b=0,y="collapse"!==o.css("border-collapse")&&!/(webkit|msie)/i.test(navigator.userAgent),w=function(){p=h.length?h.height()||0:parseInt(i.stickyHeaders_offset,10)||0,b=0,y&&(b=2*parseInt(d.eq(0).css("border-left-width"),10)),g.css({left:s.length?(parseInt(s.css("padding-left"),10)||0)+parseInt(r.$table.css("padding-left"),10)+parseInt(r.$table.css("margin-left"),10)+parseInt(o.css("border-left-width"),10):l.offset().left-c.scrollLeft()-b,width:o.width()}),a.filter(":visible").each(function(t){t=d.filter(":visible").eq(t);var n=y&&e(this).attr("data-column")===""+parseInt(r.columns/2,10)?1:0;e(this).css({width:t.width()-b}).find(u).width(t.find(u).width()-n)})};g.attr("id")&&(g[0].id+=i.stickyHeaders_cloneId),g.find("thead:gt(0), tr.sticky-false").hide(),g.find("tbody, tfoot").remove(),i.stickyHeaders_includeCaption?g.find("caption").css("margin-left","-1px"):g.find("caption").remove(),a=m.children().children(),g.css({height:0,width:0,padding:0,margin:0,border:0}),a.find("."+t.css.resizer).remove(),o.addClass("hasStickyHeaders").bind("pagerComplete.tsSticky",function(){w()}),t.bindEvents(n,m.children().children(".tablesorter-header")),o.after(g),c.bind("scroll.tsSticky resize.tsSticky",function(e){if(o.is(":visible")){var t=o.offset(),n=i.stickyHeaders_includeCaption?0:o.find("caption").outerHeight(!0),n=(s.length?s.offset().top:c.scrollTop())+p-n,r=o.height()-(g.height()+(f.height()||0)),t=n>t.top&&n<t.top+r?"visible":"hidden",n={visibility:t};s.length?n.top=s.scrollTop():n.left=l.offset().left-c.scrollLeft()-b,g.removeClass("tablesorter-sticky-visible tablesorter-sticky-hidden").addClass("tablesorter-sticky-"+t).css(n),(t!==v||"resize"===e.type)&&(w(),v=t)}}),i.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(n),o.hasClass("hasFilters")&&(o.bind("filterEnd",function(){var n=e(document.activeElement).closest("td"),n=n.parent().children().index(n);g.hasClass(t.css.stickyVis)&&i.stickyHeaders_filteredToTop&&(window.scrollTo(0,o.position().top),n>=0&&r.$filters&&r.$filters.eq(n).find("a, select, input").filter(":visible").focus())}),t.filter.bindSearch(o,a.find("."+t.css.filter)),i.filter_hideFilters&&t.filter.hideFilters(g,r)),o.trigger("stickyHeadersInit")}},remove:function(n,r,i){r.$table.removeClass("hasStickyHeaders").unbind("pagerComplete.tsSticky").find("."+t.css.sticky).remove(),i.$sticky&&i.$sticky.length&&i.$sticky.remove(),e(".hasStickyHeaders").length||e(window).unbind("scroll.tsSticky resize.tsSticky"),t.addHeaderResizeEvent(n,!1)}}),t.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[]},format:function(n,r,i){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable"),t.resizableReset(n,!0);var a,o,s,l,c={},d=r.$table,u=0,f=null,h=null,p=20>Math.abs(d.parent().width()-d.width()),g=function(){t.storage&&f&&h&&(c={},c[f.index()]=f.width(),c[h.index()]=h.width(),f.width(c[f.index()]),h.width(c[h.index()]),!1!==i.resizable&&t.storage(n,"tablesorter-resizable",r.$headers.map(function(){return e(this).width()}).get())),u=0,f=h=null,e(window).trigger("resize")};if(c=t.storage&&!1!==i.resizable?t.storage(n,"tablesorter-resizable"):{})for(l in c)!isNaN(l)&&l<r.$headers.length&&r.$headers.eq(l).width(c[l]);a=d.children("thead:first").children("tr"),a.children().each(function(){var n;n=e(this),l=n.attr("data-column"),n="false"===t.getData(n,r.headers[l],"resizable"),a.children().filter('[data-column="'+l+'"]')[n?"addClass":"removeClass"]("resizable-false")}),a.each(function(){s=e(this).children().not(".resizable-false"),e(this).find("."+t.css.wrapper).length||s.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),i.resizable_addLastColumn||(s=s.slice(0,-1)),o=o?o.add(s):s}),o.each(function(){var n=e(this),r=parseInt(n.css("padding-right"),10)+10;n.find("."+t.css.wrapper).append('<div class="'+t.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+r+'px;top:0;height:100%;width:20px;"></div>')}).bind("mousemove.tsresize",function(e){if(0!==u&&f){var t=e.pageX-u,n=f.width();f.width(n+t),f.width()!==n&&p&&h.width(h.width()-t),u=e.pageX}}).bind("mouseup.tsresize",function(){g()}).find("."+t.css.resizer+",."+t.css.grip).bind("mousedown",function(t){f=e(t.target).closest("th");var n=r.$headers.filter('[data-column="'+f.attr("data-column")+'"]');1<n.length&&(f=f.add(n)),h=t.shiftKey?f.parent().find("th").not(".resizable-false").filter(":last"):f.nextAll(":not(.resizable-false)").eq(0),u=t.pageX}),d.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){g()}).bind("contextmenu.tsresize",function(){t.resizableReset(n);var r=e.isEmptyObject?e.isEmptyObject(c):!0;return c={},r})}},remove:function(e,n){n.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+t.css.resizer+",."+t.css.grip).remove(),t.resizableReset(e)}}),t.resizableReset=function(n,r){e(n).each(function(){var i,a=this.config,o=a&&a.widgetOptions;n&&a&&(a.$headers.each(function(t){i=e(this),o.resizable_widths[t]?i.css("width",o.resizable_widths[t]):i.hasClass("resizable-false")||i.css("width","")}),t.storage&&!r&&t.storage(this,"tablesorter-resizable",{}))})},t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,n,r){t.format(e,n,r,!0)},format:function(n,r,i,a){var o,s=r.$table;i=!1!==i.saveSort;var l={sortList:r.sortList};r.debug&&(o=new Date),s.hasClass("hasSaveSort")?i&&n.hasInitialized&&t.storage&&(t.storage(n,"tablesorter-savesort",l),r.debug&&t.benchmark("saveSort widget: Saving last sort: "+r.sortList,o)):(s.addClass("hasSaveSort"),l="",t.storage&&(l=(i=t.storage(n,"tablesorter-savesort"))&&i.hasOwnProperty("sortList")&&e.isArray(i.sortList)?i.sortList:"",r.debug&&t.benchmark('saveSort: Last sort loaded: "'+l+'"',o),s.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(n,"tablesorter-savesort","")
})),a&&l&&0<l.length?r.sortList=l:n.hasInitialized&&l&&0<l.length&&s.trigger("sorton",[l]))},remove:function(e){t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),function(e,t,n){function r(t,n){this.element=t,this.settings=e.extend({},a,n),this._defaults=a,this._name=i,this.init()}var i="metisMenu",a={toggle:!0,doubleTapToGo:!1};r.prototype={init:function(){var t=e(this.element),r=this.settings.toggle,i=this;this.isIE()<=9?(t.find("li.active").has("ul").children("ul").collapse("show"),t.find("li").not(".active").has("ul").children("ul").collapse("hide")):(t.find("li.active").has("ul").children("ul").addClass("collapse in"),t.find("li").not(".active").has("ul").children("ul").addClass("collapse")),i.settings.doubleTapToGo&&t.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),t.find("li").has("ul").children("a").on("click",function(t){return t.preventDefault(),i.settings.doubleTapToGo&&i.doubleTapToGo(e(this))&&"#"!==e(this).attr("href")&&""!==e(this).attr("href")?(t.stopPropagation(),void(n.location=e(this).attr("href"))):(e(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),void(r&&e(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")))})},isIE:function(){for(var e,t=3,r=n.createElement("div"),i=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];)return t>4?t:e},doubleTapToGo:function(t){var n=e(this.element);return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(n.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0}},e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new r(this,t))})}}(jQuery,window,document),function(e){e.extend(e.summernote.lang,{"hu-HU":{font:{bold:"Félkövér",italic:"Dőlt",underline:"Aláhúzott",strike:"Áthúzott",clear:"Formázás törlése",height:"Sorköz",name:"Betűtípus",size:"Betűméret"},image:{image:"Kép",insert:"Kép beszúrása",resizeFull:"Átméretezés teljes méretre",resizeHalf:"Átméretezés felére",resizeQuarter:"Átméretezés negyedére",floatLeft:"Igazítás balra",floatRight:"Igazítás jobbra",floatNone:"Igazítás törlése",dragImageHere:"Ide húzhatod a képet",selectFromFiles:"Fájlok kiválasztása",url:"Kép URL címe",remove:"Kép törlése"},link:{link:"Hivatkozás",insert:"Hivatkozás beszúrása",unlink:"Hivatkozás megszüntetése",edit:"Szerkesztés",textToDisplay:"Megjelenítendő szöveg",url:"Milyen URL címre hivatkozzon?",openInNewWindow:"Megnyitás új ablakban"},video:{video:"Videó",videoLink:"Videó hivatkozás",insert:"Videó beszúrása",url:"Videó URL címe",providers:"(YouTube, Vimeo, Vine, Instagram, vagy DailyMotion)"},table:{table:"Táblázat"},hr:{insert:"Elválasztó vonal beszúrása"},style:{style:"Stílus",normal:"Normál",blockquote:"Idézet",pre:"Kód",h1:"Fejléc 1",h2:"Fejléc 2",h3:"Fejléc 3",h4:"Fejléc 4",h5:"Fejléc 5",h6:"Fejléc 6"},lists:{unordered:"Listajeles lista",ordered:"Számozott lista"},options:{help:"Súgó",fullscreen:"Teljes képernyő",codeview:"Kód nézet"},paragraph:{paragraph:"Bekezdés",outdent:"Behúzás csökkentése",indent:"Behúzás növelése",left:"Igazítás balra",center:"Igazítás középre",right:"Igazítás jobbra",justify:"Sorkizárt"},color:{recent:"Jelenlegi szín",more:"További színek",background:"Háttérszín",foreground:"Betűszín",transparent:"Átlátszó",setTransparent:"Átlászóság beállítása",reset:"Visszaállítás",resetToDefault:"Alaphelyzetbe állítás"},shortcut:{shortcuts:"Gyorsbillentyű",close:"Bezárás",textFormatting:"Szöveg formázása",action:"Művelet",paragraphFormatting:"Bekezdés formázása",documentStyle:"Dokumentumstílus"},history:{undo:"Visszavonás",redo:"Újra"}}})}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){var n,r,i=this.length>>>0,a=!1;for(1<arguments.length&&(r=t,a=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(a?r=e(r,this[n],n,this):(r=this[n],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return r}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],i=arguments.length>=2?arguments[1]:void 0,a=0;n>a;a++)if(a in t){var o=t[a];e.call(i,o,a,t)&&r.push(o)}return r});var t,n="function"==typeof define&&define.amd,r=function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",r=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=r.css("fontFamily",n).width(),a=r.css("fontFamily",t+","+n).width();return r.remove(),i!==a},i={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:r,isW3CRangeSupport:!!document.createRange},a=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},r=function(e){return function(t,n){return t[e]===n[e]}},i=function(){return!0},a=function(){return!1},o=function(e){return function(){return!e.apply(e,arguments)}},s=function(e,t){return function(n){return e(n)&&t(n)}},l=function(e){return e},c=0,d=function(e){var t=++c+"";return e?e+t:t},u=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},f=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t};return{eq:t,eq2:n,peq2:r,ok:i,fail:a,self:l,not:o,and:s,uniqueId:d,rect2bnd:u,invertObject:f}}(),o=function(){var e=function(e){return e[0]},t=function(e){return e[e.length-1]},n=function(e){return e.slice(0,e.length-1)},r=function(e){return e.slice(1)},i=function(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];if(t(i))return i}},o=function(e,t){for(var n=0,r=e.length;r>n;n++)if(!t(e[n]))return!1;return!0},s=function(e,t){return-1!==e.indexOf(t)},l=function(e,t){return t=t||a.self,e.reduce(function(e,n){return e+t(n)},0)},c=function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=e[n];return t},d=function(n,i){if(!n.length)return[];var a=r(n);return a.reduce(function(e,n){var r=t(e);return i(t(r),n)?r[r.length]=n:e[e.length]=[n],e},[[e(n)]])},u=function(e){for(var t=[],n=0,r=e.length;r>n;n++)e[n]&&t.push(e[n]);return t},f=function(e){for(var t=[],n=0,r=e.length;r>n;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t};return{head:e,last:t,initial:n,tail:r,find:i,contains:s,all:o,sum:l,from:c,clusterBy:d,compact:u,unique:f}}(),s=String.fromCharCode(160),l="",c=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},n=function(t){return t&&e(t).hasClass("note-control-sizing")},r=function(t){var n;if(t.hasClass("note-air-editor")){var r=o.last(t.attr("id").split("-"));return n=function(t){return function(){return e(t+r)}},{editor:function(){return t},editable:function(){return t},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}return n=function(e){return function(){return t.find(e)}},{editor:function(){return t},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog")}},d=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},u=function(e){return e&&3===e.nodeType},f=function(e){return e&&/^BR|^IMG|^HR/.test(e.nodeName.toUpperCase())},h=function(e){return t(e)?!1:e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},p=d("LI"),g=function(e){return h(e)&&!p(e)},m=function(e){return!w(e)&&!v(e)&&!h(e)},v=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},b=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},y=d("BLOCKQUOTE"),w=function(e){return b(e)||y(e)||t(e)},x=d("A"),C=function(e){return m(e)&&!!R(e,h)},k=function(e){return m(e)&&!R(e,h)},T=d("BODY"),S=i.isMSIE?"&nbsp;":"<br>",D=function(e){return u(e)?e.nodeValue.length:e.childNodes.length},$=function(e){var t=D(e);return 0===t?!0:c.isText(e)||1!==t||e.innerHTML!==S?!1:!0},z=function(e){f(e)||D(e)||(e.innerHTML=S)},R=function(e,n){for(;e;){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},F=function(e,n){n=n||a.fail;var r=[];return R(e,function(e){return t(e)||r.push(e),n(e)}),r},M=function(e,t){var n=F(e);return o.last(n.filter(t))},P=function(t,n){for(var r=F(t),i=n;i;i=i.parentNode)if(e.inArray(i,r)>-1)return i;return null},N=function(e,t){t=t||a.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},I=function(e,t){t=t||a.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},_=function(e,t){var n=[];return t=t||a.ok,function r(i){e!==i&&t(i)&&n.push(i);for(var a=0,o=i.childNodes.length;o>a;a++)r(i.childNodes[a])}(e),n},A=function(t,n){var r=t.parentNode,i=e("<"+n+">")[0];return r.insertBefore(i,t),i.appendChild(t),i},L=function(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e},E=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},O=function(e){return 0===e.offset},H=function(e){return e.offset===D(e.node)},j=function(e){return O(e)||H(e)},B=function(e,t){for(;e&&e!==t;){if(0!==W(e))return!1;e=e.parentNode}return!0},U=function(e,t){for(;e&&e!==t;){if(W(e)!==D(e.parentNode)-1)return!1;e=e.parentNode}return!0},W=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},q=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},V=function(e,n){var r,i;if(0===e.offset){if(t(e.node))return null;r=e.node.parentNode,i=W(e.node)}else q(e.node)?(r=e.node.childNodes[e.offset-1],i=D(r)):(r=e.node,i=n?0:e.offset-1);return{node:r,offset:i}},Y=function(e,n){var r,i;if(D(e.node)===e.offset){if(t(e.node))return null;r=e.node.parentNode,i=W(e.node)+1}else q(e.node)?(r=e.node.childNodes[e.offset],i=0):(r=e.node,i=n?D(e.node):e.offset+1);return{node:r,offset:i}},K=function(e,t){return e.node===t.node&&e.offset===t.offset},J=function(e){if(u(e.node)||!q(e.node)||$(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return t&&!f(t)||n&&!f(n)?!1:!0},G=function(e,t){for(;e;){if(t(e))return e;e=V(e)}return null},Q=function(e,t){for(;e;){if(t(e))return e;e=Y(e)}return null},X=function(e,t,n,r){for(var i=e;i&&(n(i),!K(i,t));){var a=r&&e.node!==i.node&&t.node!==i.node;i=Y(i,a)}},Z=function(t,n){var r=F(n,a.eq(t));return e.map(r,W).reverse()},et=function(e,t){for(var n=e,r=0,i=t.length;i>r;r++)n=n.childNodes.length<=t[r]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[r]];return n},tt=function(e,t){if(u(e.node))return O(e)?e.node:H(e)?e.node.nextSibling:e.node.splitText(e.offset);var n=e.node.childNodes[e.offset],r=L(e.node.cloneNode(!1),e.node);return E(r,I(n)),t||(z(e.node),z(r)),r},nt=function(e,t,n){var r=F(t.node,a.eq(e));return r.length?1===r.length?tt(t,n):r.reduce(function(e,r){var i=L(r.cloneNode(!1),r);return e===t.node&&(e=tt(t,n)),E(i,I(e)),n||(z(r),z(i)),i}):null},rt=function(e){return document.createElement(e)},it=function(e){return document.createTextNode(e)},at=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var r,i,a=[];for(r=0,i=e.childNodes.length;i>r;r++)a.push(e.childNodes[r]);for(r=0,i=a.length;i>r;r++)n.insertBefore(a[r],e)}n.removeChild(e)}},ot=function(e,n){for(;e&&!t(e)&&n(e);){var r=e.parentNode;at(e),e=r}},st=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=rt(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),E(n,o.from(e.childNodes)),L(n,e),at(e),n},lt=d("TEXTAREA"),ct=function(t,n){var r=lt(t[0])?t.val():t.html();if(n){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;r=r.replace(i,function(e,t,n){n=n.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(r||i?"\n":"")}),r=e.trim(r)}return r},dt=function(e){var t=e.val();return t.replace(/[\n\r]/g,"")};return{NBSP_CHAR:s,ZERO_WIDTH_NBSP_CHAR:l,blank:S,emptyPara:"<p>"+S+"</p>",isEditable:t,isControlSizing:n,buildLayoutInfo:r,isText:u,isPara:h,isPurePara:g,isInline:m,isBodyInline:k,isBody:T,isParaInline:C,isList:v,isTable:d("TABLE"),isCell:b,isBlockquote:y,isBodyContainer:w,isAnchor:x,isDiv:d("DIV"),isLi:p,isSpan:d("SPAN"),isB:d("B"),isU:d("U"),isS:d("S"),isI:d("I"),isImg:d("IMG"),isTextarea:lt,isEmpty:$,isEmptyAnchor:a.and(x,$),nodeLength:D,isLeftEdgePoint:O,isRightEdgePoint:H,isEdgePoint:j,isLeftEdgeOf:B,isRightEdgeOf:U,prevPoint:V,nextPoint:Y,isSamePoint:K,isVisiblePoint:J,prevPointUntil:G,nextPointUntil:Q,walkPoint:X,ancestor:R,listAncestor:F,lastAncestor:M,listNext:I,listPrev:N,listDescendant:_,commonAncestor:P,wrap:A,insertAfter:L,appendChildNodes:E,position:W,hasChildren:q,makeOffsetPath:Z,fromOffsetPath:et,splitTree:nt,create:rt,createText:it,remove:at,removeWhile:ot,replace:st,html:ct,value:dt}}(),d={version:"0.5.9",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(e){return-1!==e.indexOf("@")&&-1===e.indexOf(":")?e="mailto:"+e:-1===e.indexOf("://")&&(e="http://"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},u=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t,n){return e.Deferred(function(r){e("<img>").one("load",function(){r.resolve(e(this))}).one("error abort",function(){r.reject(e(this))}).css({display:"none"}).appendTo(document.body).attr("src",t).attr("data-filename",n)}).promise()};return{readFileAsDataURL:t,createImage:n}}(),f={isEdit:function(e){return-1!==[8,9,13,32].indexOf(e)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var t=function(t,n){if(i.jqueryVersion<1.9){var r={};return e.each(n,function(e,n){r[n]=t.css(n)}),r}return t.css.call(t,n)};this.stylePara=function(t,n){e.each(t.nodes(c.isPara,{includeAncestor:!0}),function(t,r){e(r).css(n)})},this.current=function(n,r){var i=e(c.isText(n.sc)?n.sc.parentNode:n.sc),a=["font-family","font-size","text-align","list-style-type","line-height"],o=t(i,a)||{};if(o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",o["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",o["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",n.isOnList()){var s=["circle","disc","disc-leading-zero","square"],l=e.inArray(o["list-style-type"],s)>-1;o["list-style"]=l?"unordered":"ordered"}else o["list-style"]="none";var d=c.ancestor(n.sc,c.isPara);if(d&&d.style["line-height"])o["line-height"]=d.style.lineHeight;else{var u=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=u.toFixed(1)}return o.image=c.isImg(r)&&r,o.anchor=n.isOnAnchor()&&c.ancestor(n.sc,c.isAnchor),o.ancestors=c.listAncestor(n.sc,c.isEditable),o.range=n,o}},p=function(){var t=function(e,t){var n,r,i=e.parentElement(),a=document.body.createTextRange(),s=o.from(i.childNodes);for(n=0;n<s.length;n++)if(!c.isText(s[n])){if(a.moveToElementText(s[n]),a.compareEndPoints("StartToStart",e)>=0)break;r=s[n]}if(0!==n&&c.isText(s[n-1])){var l=document.body.createTextRange(),d=null;l.moveToElementText(r||i),l.collapse(!r),d=r?r.nextSibling:i.firstChild;var u=e.duplicate();u.setEndPoint("StartToStart",l);for(var f=u.text.replace(/[\r\n]/g,"").length;f>d.nodeValue.length&&d.nextSibling;)f-=d.nodeValue.length,d=d.nextSibling;d.nodeValue,t&&d.nextSibling&&c.isText(d.nextSibling)&&f===d.nodeValue.length&&(f-=d.nodeValue.length,d=d.nextSibling),i=d,n=f}return{cont:i,offset:n}},n=function(e){var t=function(e,n){var r,i;if(c.isText(e)){var s=c.listPrev(e,a.not(c.isText)),l=o.last(s).previousSibling;r=l||e.parentNode,n+=o.sum(o.tail(s),c.nodeLength),i=!l}else{if(r=e.childNodes[n]||e,c.isText(r))return t(r,0);n=0,i=!1}return{node:r,collapseToStart:i,offset:n}},n=document.body.createTextRange(),r=t(e.node,e.offset);return n.moveToElementText(r.node),n.collapse(r.collapseToStart),n.moveStart("character",r.offset),n},r=function(t,s,l,d){this.sc=t,this.so=s,this.ec=l,this.eo=d;var u=function(){if(i.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,s),e.setEnd(l,d),e}var r=n({node:t,offset:s});return r.setEndPoint("EndToEnd",n({node:l,offset:d})),r};this.getPoints=function(){return{sc:t,so:s,ec:l,eo:d}},this.getStartPoint=function(){return{node:t,offset:s}},this.getEndPoint=function(){return{node:l,offset:d}},this.select=function(){var e=u();if(i.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select()},this.normalize=function(){var e=function(e){return c.isVisiblePoint(e)||(c.isLeftEdgePoint(e)?e=c.nextPointUntil(e,c.isVisiblePoint):c.isRightEdgePoint(e)&&(e=c.prevPointUntil(e,c.isVisiblePoint))),e},t=e(this.getStartPoint()),n=e(this.getStartPoint());return new r(t.node,t.offset,n.node,n.offset)},this.nodes=function(e,t){e=e||a.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,i=this.getStartPoint(),s=this.getEndPoint(),l=[],d=[];return c.walkPoint(i,s,function(t){if(!c.isEditable(t.node)){var i;r?(c.isLeftEdgePoint(t)&&d.push(t.node),c.isRightEdgePoint(t)&&o.contains(d,t.node)&&(i=t.node)):i=n?c.ancestor(t.node,e):t.node,i&&e(i)&&l.push(i)}},!0),o.unique(l)},this.commonAncestor=function(){return c.commonAncestor(t,l)},this.expand=function(e){var n=c.ancestor(t,e),i=c.ancestor(l,e);if(!n&&!i)return new r(t,s,l,d);var a=this.getPoints();return n&&(a.sc=n,a.so=0),i&&(a.ec=i,a.eo=c.nodeLength(i)),new r(a.sc,a.so,a.ec,a.eo)},this.collapse=function(e){return e?new r(t,s,t,s):new r(l,d,l,d)},this.splitText=function(){var e=t===l,n=this.getPoints();return c.isText(l)&&!c.isEdgePoint(this.getEndPoint())&&l.splitText(d),c.isText(t)&&!c.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(s),n.so=0,e&&(n.ec=n.sc,n.eo=d-s)),new r(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),i=c.prevPointUntil(t.getStartPoint(),function(e){return!o.contains(n,e.node)}),a=[];return e.each(n,function(e,t){var n=t.parentNode;i.node!==n&&1===c.nodeLength(n)&&a.push(n),c.remove(t,!1)}),e.each(a,function(e,t){c.remove(t,!1)}),new r(i.node,i.offset,i.node,i.offset)};var f=function(e){return function(){var n=c.ancestor(t,e);return!!n&&n===c.ancestor(l,e)}};this.isOnEditable=f(c.isEditable),this.isOnList=f(c.isList),this.isOnAnchor=f(c.isAnchor),this.isOnCell=f(c.isCell),this.isLeftEdgeOf=function(e){if(!c.isLeftEdgePoint(this.getStartPoint()))return!1;var t=c.ancestor(this.sc,e);return t&&c.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===l&&s===d},this.wrapBodyInlineWithPara=function(){if(c.isBodyContainer(t)&&c.isEmpty(t))return t.innerHTML=c.emptyPara,new r(t.firstChild,0);if(!c.isInline(t)||c.isParaInline(t))return this;var e=c.listAncestor(t,a.not(c.isInline)),n=o.last(e);c.isInline(n)||(n=e[e.length-2]||t.childNodes[s]);var i=c.listPrev(n,c.isParaInline).reverse();if(i=i.concat(c.listNext(n.nextSibling,c.isParaInline)),i.length){var l=c.wrap(o.head(i),"p");c.appendChildNodes(l,o.tail(i))}return this},this.insertNode=function(e,t){var n,r,i,a=this.wrapBodyInlineWithPara(),s=a.getStartPoint();if(t)r=c.isPara(s.node)?s.node:s.node.parentNode,i=c.isPara(s.node)?s.node.childNodes[s.offset]:c.splitTree(s.node,s);else{var l=c.listAncestor(s.node,c.isBodyContainer),d=o.last(l)||s.node;c.isBodyContainer(d)?(n=l[l.length-2],r=d):(n=d,r=n.parentNode),i=n&&c.splitTree(n,s)}return i?i.parentNode.insertBefore(e,i):r.appendChild(e),e},this.toString=function(){var e=u();return i.isW3CRangeSupport?e.toString():e.text},this.bookmark=function(e){return{s:{path:c.makeOffsetPath(e,t),offset:s},e:{path:c.makeOffsetPath(e,l),offset:d}}},this.getClientRects=function(){var e=u();return e.getClientRects()}};return{create:function(e,n,a,o){if(arguments.length)2===arguments.length&&(a=e,o=n);else if(i.isW3CRangeSupport){var s=document.getSelection();if(0===s.rangeCount)return null;if(c.isBody(s.anchorNode))return null;var l=s.getRangeAt(0);e=l.startContainer,n=l.startOffset,a=l.endContainer,o=l.endOffset}else{var d=document.selection.createRange(),u=d.duplicate();u.collapse(!1);var f=d;f.collapse(!0);var h=t(f,!0),p=t(u,!1);e=h.cont,n=h.offset,a=p.cont,o=p.offset}return new r(e,n,a,o)},createFromNode:function(e){return this.create(e,0,e,1)},createFromBookmark:function(e,t){var n=c.fromOffsetPath(e,t.s.path),i=t.s.offset,a=c.fromOffsetPath(e,t.e.path),o=t.e.offset;return new r(n,i,a,o)}}}(),g=function(){this.insertTab=function(e,t,n){var r=c.createText(new Array(n+1).join(c.NBSP_CHAR));t=t.deleteContents(),t.insertNode(r,!0),t=p.create(r,n),t.select()},this.insertParagraph=function(){var t=p.create();t=t.deleteContents(),t=t.wrapBodyInlineWithPara();var n,r=c.ancestor(t.sc,c.isPara);if(r){n=c.splitTree(r,t.getStartPoint());var i=c.listDescendant(r,c.isEmptyAnchor);i=i.concat(c.listDescendant(n,c.isEmptyAnchor)),e.each(i,function(e,t){c.remove(t)})}else{var a=t.sc.childNodes[t.so];n=e(c.emptyPara)[0],a?t.sc.insertBefore(n,a):t.sc.appendChild(n)}p.create(n,0).normalize().select()}},m=function(){this.tab=function(e,t){var n=c.ancestor(e.commonAncestor(),c.isCell),r=c.ancestor(n,c.isTable),i=c.listDescendant(r,c.isCell),a=o[t?"prev":"next"](i,n);a&&p.create(a,0).select()},this.createTable=function(t,n){for(var r,i=[],a=0;t>a;a++)i.push("<td>"+c.blank+"</td>");r=i.join("");for(var o,s=[],l=0;n>l;l++)s.push("<tr>"+r+"</tr>");return o=s.join(""),e('<table class="table table-bordered">'+o+"</table>")[0]}},v=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),r=n.nodes(c.isPara,{includeAncestor:!0}),i=o.clusterBy(r,a.peq2("parentNode"));e.each(i,function(n,r){var i=o.head(r);c.isLi(i)?t.wrapList(r,i.parentNode.nodeName):e.each(r,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),r=n.nodes(c.isPara,{includeAncestor:!0}),i=o.clusterBy(r,a.peq2("parentNode"));e.each(i,function(n,r){var i=o.head(r);c.isLi(i)?t.releaseList([r]):e.each(r,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t){var n=this,r=p.create().wrapBodyInlineWithPara(),i=r.nodes(c.isPara,{includeAncestor:!0}),s=o.clusterBy(i,a.peq2("parentNode"));if(o.find(i,c.isPurePara))e.each(s,function(e,r){n.wrapList(r,t)});else{var l=r.nodes(c.isList,{includeAncestor:!0}).filter(function(n){return!e.nodeName(n,t)});l.length?e.each(l,function(e,n){c.replace(n,t)}):this.releaseList(s,!0)}r.select()},this.wrapList=function(t,n){var r=o.head(t),i=o.last(t),a=c.isList(r.previousSibling)&&r.previousSibling,s=c.isList(i.nextSibling)&&i.nextSibling,l=a||c.insertAfter(c.create(n||"UL"),i);t=e.map(t,function(e){return c.isPurePara(e)?c.replace(e,"LI"):e}),c.appendChildNodes(l,t),s&&(c.appendChildNodes(l,o.from(s.childNodes)),c.remove(s))},this.releaseList=function(t,n){var r=[];return e.each(t,function(t,i){var a=o.head(i),s=o.last(i),l=n?c.lastAncestor(a,c.isList):a.parentNode,d=l.childNodes.length>1?c.splitTree(l,{node:s.parentNode,offset:c.position(s)+1},!0):null,u=c.splitTree(l,{node:a.parentNode,offset:c.position(a)},!0);i=n?c.listDescendant(u,c.isLi):o.from(u.childNodes).filter(c.isLi),(n||!c.isList(l.parentNode))&&(i=e.map(i,function(e){return c.replace(e,"P")})),e.each(o.from(i).reverse(),function(e,t){c.insertAfter(t,l)});var f=o.compact([l,u,d]);e.each(f,function(t,n){var r=[n].concat(c.listDescendant(n,c.isList));e.each(r.reverse(),function(e,t){c.nodeLength(t)||c.remove(t,!0)})}),r=r.concat(i)}),r}},b=function(){var t=new h,n=new m,r=new g,a=new v;this.saveRange=function(e,t){e.focus(),e.data("range",p.create()),t&&p.create().collapse().select()},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),e.focus())},this.currentStyle=function(e){var n=p.create();return n?n.isOnEditable()&&t.current(n,e):!1};var s=this.triggerOnChange=function(e){var t=e.data("callbacks").onChange;t&&t(e.html(),e)};this.undo=function(e){e.data("NoteHistory").undo(),s(e)},this.redo=function(e){e.data("NoteHistory").redo(),s(e)};for(var l=this.afterCommand=function(e){e.data("NoteHistory").recordUndo(),s(e)},d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],f=0,b=d.length;b>f;f++)this[d[f]]=function(e){return function(t,n){document.execCommand(e,!1,n),l(t)}}(d[f]);this.tab=function(e,t){var i=p.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):(r.insertTab(e,i,t.tabsize),l(e))},this.untab=function(){var e=p.create();e.isCollapsed()&&e.isOnCell()&&n.tab(e,!0)},this.insertParagraph=function(e){r.insertParagraph(e),l(e)},this.insertOrderedList=function(e){a.insertOrderedList(e),l(e)},this.insertUnorderedList=function(e){a.insertUnorderedList(e),l(e)},this.indent=function(e){a.indent(e),l(e)},this.outdent=function(e){a.outdent(e),l(e)},this.insertImage=function(e,t,n){u.createImage(t,n).then(function(t){t.css({display:"",width:Math.min(e.width(),t.width())}),p.create().insertNode(t[0]),l(e)}).fail(function(){var t=e.data("callbacks");t.onImageUploadError&&t.onImageUploadError()})},this.insertVideo=function(t,n){var r,i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=n.match(i),o=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,s=n.match(o),c=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,d=n.match(c),u=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,f=n.match(u),h=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,g=n.match(h),m=/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/,v=n.match(m);if(a&&11===a[2].length){var b=a[2];r=e("<iframe>").attr("src","//www.youtube.com/embed/"+b).attr("width","640").attr("height","360")}else s&&s[0].length?r=e("<iframe>").attr("src",s[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):d&&d[0].length?r=e("<iframe>").attr("src",d[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):f&&f[3].length?r=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+f[3]).attr("width","640").attr("height","360"):g&&g[2].length?r=e("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360"):v&&v[1].length&&(r=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+v[1]));
r&&(r.attr("frameborder",0),p.create().insertNode(r[0]),l(t))},this.formatBlock=function(e,t){t=i.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),l(e)},this.formatPara=function(e){this.formatBlock(e,"P"),l(e)};for(var f=1;6>=f;f++)this["formatH"+f]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(f);this.fontSize=function(e,t){document.execCommand("fontSize",!1,3),i.isFF?e.find("font[size=3]").removeAttr("size").css("font-size",t+"px"):e.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",t+"px"),l(e)},this.lineHeight=function(e,n){t.stylePara(p.create(),{lineHeight:n}),l(e)},this.unlink=function(e){var t=p.create();if(t.isOnAnchor()){var n=c.ancestor(t.sc,c.isAnchor);t=p.createFromNode(n),t.select(),document.execCommand("unlink"),l(e)}},this.createLink=function(t,n,r){var i=n.url,a=n.text,o=n.newWindow,s=n.range;r.onCreateLink&&(i=r.onCreateLink(i)),s=s.deleteContents();var c=s.insertNode(e("<A>"+a+"</A>")[0],!0);e(c).attr({href:i,target:o?"_blank":""}),p.createFromNode(c).select(),l(t)},this.getLinkInfo=function(t){t.focus();var n=p.create().expand(c.isAnchor),r=e(o.head(n.nodes(c.isAnchor)));return{range:n,text:n.toString(),isNewWindow:r.length?"_blank"===r.attr("target"):!0,url:r.length?r.attr("href"):""}},this.getVideoInfo=function(e){e.focus();var t=p.create();if(t.isOnAnchor()){var n=c.ancestor(t.sc,c.isAnchor);t=p.createFromNode(n)}return{text:t.toString()}},this.color=function(e,t){var n=JSON.parse(t),r=n.foreColor,i=n.backColor;r&&document.execCommand("foreColor",!1,r),i&&document.execCommand("backColor",!1,i),l(e)},this.insertTable=function(e,t){var r=t.split("x"),i=p.create();i=i.deleteContents(),i.insertNode(n.createTable(r[0],r[1])),l(e)},this.floatMe=function(e,t,n){n.css("float",t),l(e)},this.resize=function(e,t,n){n.css({width:e.width()*t+"px",height:""}),l(e)},this.resizeTo=function(e,t,n){var r;if(n){var i=e.y/e.x,a=t.data("ratio");r={width:a>i?e.x:e.y/a,height:a>i?e.x*a:e.y}}else r={width:e.x,height:e.y};t.css(r)},this.removeMedia=function(e,t,n){n.detach(),l(e)}},y=function(e){var t=[],n=0,r=e[0],i=function(){var t=p.create(),n={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(r):n}},a=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&p.createFromBookmark(r,t.bookmark).select()};this.undo=function(){n>0&&(n--,a(t[n]))},this.redo=function(){t.length-1>n&&(n++,a(t[n]))},this.recordUndo=function(){t.length>n&&(t=t.slice(0,n)),t.push(i()),n++},this.recordUndo()},w=function(){this.update=function(t,n){var r=function(t,n){t.find(".dropdown-menu li a").each(function(){var t=e(this).data("value")+""==n+"";this.className=t?"checked":""})},i=function(e,n){var r=t.find(e);r.toggleClass("active",n())},a=t.find(".note-fontname");if(a.length){var s=n["font-family"];s&&(s=o.head(s.split(",")),s=s.replace(/\'/g,""),a.find(".note-current-fontname").text(s),r(a,s))}var l=t.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),r(l,parseFloat(n["font-size"]));var c=t.find(".note-height");r(c,parseFloat(n["line-height"])),i('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),i('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),i('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),i('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),i('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),i('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),i('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),i('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),i('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),i('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),i('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),i('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(t,n,r){var i=e(t).closest(".note-color"),a=i.find(".note-recent-color"),o=JSON.parse(a.attr("data-value"));o[n]=r,a.attr("data-value",JSON.stringify(o));var s="backColor"===n?"background-color":"color";a.find("i").css(s,r)}},x=function(){var e=new w;this.update=function(t,n){e.update(t,n)},this.updateRecentColor=function(t,n,r){e.updateRecentColor(t,n,r)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){var n=e.find('button[data-event="fullscreen"]');n.toggleClass("active",t)},this.updateCodeview=function(e,t){var n=e.find('button[data-event="codeview"]');n.toggleClass("active",t)}},C=function(){var t=new w,n=function(t,n){var r=e(t),i=n?r.offset():r.position(),a=r.outerHeight(!0);return{left:i.left,top:i.top+a}},r=function(e,t){e.css({display:"block",left:t.left,top:t.top})},i=20;this.update=function(s,l,c){t.update(s,l);var d=s.find(".note-link-popover");if(l.anchor){var u=d.find("a"),f=e(l.anchor).attr("href");u.attr("href",f).html(f),r(d,n(l.anchor,c))}else d.hide();var h=s.find(".note-image-popover");l.image?r(h,n(l.image,c)):h.hide();var p=s.find(".note-air-popover");if(c&&!l.range.isCollapsed()){var g=a.rect2bnd(o.last(l.range.getClientRects()));r(p,{left:Math.max(g.left+g.width/2-i,0),top:g.top+g.height})}else p.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},k=function(){this.update=function(t,n,r){var i=t.find(".note-control-selection");if(n.image){var a=e(n.image),o=r?a.offset():a.position(),s={w:a.outerWidth(!0),h:a.outerHeight(!0)};i.css({display:"block",left:o.left,top:o.top,width:s.w,height:s.h}).data("target",n.image);var l=s.w+"x"+s.h;i.find(".note-control-selection-info").text(l)}else i.hide()},this.hide=function(e){e.children().hide()}},T=function(){var t=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)};this.showImageDialog=function(n,r){return e.Deferred(function(e){var n=r.find(".note-image-dialog"),i=r.find(".note-image-input"),a=r.find(".note-image-url"),o=r.find(".note-image-btn");n.one("shown.bs.modal",function(){i.replaceWith(i.clone().on("change",function(){e.resolve(this.files),n.modal("hide")}).val("")),o.click(function(t){t.preventDefault(),e.resolve(a.val()),n.modal("hide")}),a.on("keyup paste",function(e){var n;n="paste"===e.type?e.originalEvent.clipboardData.getData("text"):a.val(),t(o,n)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){i.off("change"),a.off("keyup paste"),o.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})},this.showVideoDialog=function(n,r,i){return e.Deferred(function(e){var n=r.find(".note-video-dialog"),a=n.find(".note-video-url"),o=n.find(".note-video-btn");n.one("shown.bs.modal",function(){a.val(i.text).keyup(function(){t(o,a.val())}).trigger("keyup").trigger("focus"),o.click(function(t){t.preventDefault(),e.resolve(a.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){a.off("keyup"),o.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})},this.showLinkDialog=function(n,r,i){return e.Deferred(function(e){var n=r.find(".note-link-dialog"),a=n.find(".note-link-text"),o=n.find(".note-link-url"),s=n.find(".note-link-btn"),l=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){a.val(i.text),a.keyup(function(){i.text=a.val()}),i.url||(i.url=i.text,t(s,i.text)),o.keyup(function(){t(s,o.val()),i.text||a.val(o.val())}).val(i.url).trigger("focus").trigger("select"),l.prop("checked",i.newWindow),s.one("click",function(t){t.preventDefault(),e.resolve({range:i.range,url:o.val(),text:a.val(),newWindow:l.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){a.off("keyup"),o.off("keyup"),s.off("click"),"pending"===e.state()&&e.reject()}).modal("show")}).promise()},this.showHelpDialog=function(t,n){return e.Deferred(function(e){var t=n.find(".note-help-dialog");t.one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()}};i.hasCodeMirror&&(i.isSupportAmd?require(["CodeMirror"],function(e){t=e}):t=window.CodeMirror);var S=function(){var n=e(window),r=e(document),a=e("html, body"),s=new b,l=new x,d=new C,h=new k,p=new T,g=function(t){var n=e(t).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var r;return r=n.is(".note-editor, .note-air-editor")?n:e("#note-editor-"+o.last(n.attr("id").split("-"))),c.buildLayoutInfo(r)},m=function(t,n){var r=t.data("callbacks");r.onImageUpload?r.onImageUpload(n,s,t):e.each(n,function(e,n){var i=n.name;u.readFileAsDataURL(n).then(function(e){s.insertImage(t,e,i)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})},v={showLinkDialog:function(e){var t=e.editor(),n=e.dialog(),r=e.editable(),i=s.getLinkInfo(r),a=t.data("options");s.saveRange(r),p.showLinkDialog(r,n,i).then(function(t){s.restoreRange(r),s.createLink(r,t,a),d.hide(e.popover())}).fail(function(){s.restoreRange(r)})},showImageDialog:function(e){var t=e.dialog(),n=e.editable();s.saveRange(n),p.showImageDialog(n,t).then(function(e){s.restoreRange(n),"string"==typeof e?s.insertImage(n,e):m(n,e)}).fail(function(){s.restoreRange(n)})},showVideoDialog:function(e){var t=e.dialog(),n=e.editable(),r=s.getVideoInfo(n);s.saveRange(n),p.showVideoDialog(n,t,r).then(function(e){s.restoreRange(n),s.insertVideo(n,e)}).fail(function(){s.restoreRange(n)})},showHelpDialog:function(e){var t=e.dialog(),n=e.editable();s.saveRange(n,!0),p.showHelpDialog(n,t).then(function(){s.restoreRange(n)})},fullscreen:function(e){var t=e.editor(),r=e.toolbar(),i=e.editable(),o=e.codable(),s=t.data("options"),c=function(e){t.css("width",e.w),i.css("height",e.h),o.css("height",e.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen");var d=t.hasClass("fullscreen");d?(i.data("orgheight",i.css("height")),n.on("resize",function(){c({w:n.width(),h:n.height()-r.outerHeight()})}).trigger("resize"),a.css("overflow","hidden")):(n.off("resize"),c({w:s.width||"",h:i.data("orgheight")}),a.css("overflow","visible")),l.updateFullscreen(r,d)},codeview:function(e){var n,r,a=e.editor(),o=e.toolbar(),s=e.editable(),u=e.codable(),f=e.popover(),h=a.data("options");a.toggleClass("codeview");var p=a.hasClass("codeview");p?(u.val(c.html(s,!0)),u.height(s.height()),l.deactivate(o),d.hide(f),u.focus(),i.hasCodeMirror&&(n=t.fromTextArea(u[0],h.codemirror),h.codemirror.tern&&(r=new t.TernServer(h.codemirror.tern),n.ternServer=r,n.on("cursorActivity",function(e){r.updateArgHints(e)})),n.setSize(null,s.outerHeight()),u.data("cmEditor",n))):(i.hasCodeMirror&&(n=u.data("cmEditor"),u.val(n.getValue()),n.toTextArea()),s.html(c.value(u)||c.emptyPara),s.height(h.height?u.height():"auto"),l.activate(o),s.focus()),l.updateCodeview(e.toolbar(),p)}},w=function(e){c.isImg(e.target)&&e.preventDefault()},S=function(e){setTimeout(function(){var t=g(e.currentTarget||e.target),n=s.currentStyle(e.target);if(n){var r=t.editor().data("options").airMode;r||l.update(t.toolbar(),n),d.update(t.popover(),n,r),h.update(t.handle(),n,r)}},0)},D=function(e){var t=g(e.currentTarget||e.target);d.hide(t.popover()),h.hide(t.handle())},$=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var n=g(e.currentTarget||e.target),r=n.editable(),i=o.head(t.items),a="file"===i.kind&&-1!==i.type.indexOf("image/");a&&m(r,[i.getAsFile()]),s.afterCommand(r)}},z=function(t){if(c.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=g(t.target),i=n.handle(),a=n.popover(),o=n.editable(),l=n.editor(),u=i.find(".note-control-selection").data("target"),f=e(u),p=f.offset(),m=r.scrollTop(),v=l.data("options").airMode;r.on("mousemove",function(e){s.resizeTo({x:e.clientX-p.left,y:e.clientY-(p.top-m)},f,!e.shiftKey),h.update(i,{image:u},v),d.update(a,{image:u},v)}).one("mouseup",function(){r.off("mousemove")}),f.data("ratio")||f.data("ratio",f.height()/f.width()),s.afterCommand(o)}},R=function(t){var n=e(t.target).closest("[data-event]");n.length&&t.preventDefault()},F=function(t){var n=e(t.target).closest("[data-event]");if(n.length){var r=n.attr("data-event"),i=n.attr("data-value"),a=n.attr("data-hide"),c=g(t.target);t.preventDefault();var u;if(-1!==e.inArray(r,["resize","floatMe","removeMedia"])){var f=c.handle().find(".note-control-selection");u=e(f.data("target"))}if(a&&n.parents(".popover").hide(),s[r]){var h=c.editable();h.trigger("focus"),s[r](h,i,u)}else v[r]&&v[r].call(this,c);if(-1!==e.inArray(r,["backColor","foreColor"])){var p=c.editor().data("options",p),m=p.airMode?d:l;m.updateRecentColor(o.head(n),r,i)}S(t)}},M=24,P=function(e){e.preventDefault(),e.stopPropagation();var t=g(e.target).editable(),n=t.offset().top-r.scrollTop(),i=g(e.currentTarget||e.target),a=i.editor().data("options");r.on("mousemove",function(e){var r=e.clientY-(n+M);r=a.minHeight>0?Math.max(r,a.minHeight):r,r=a.maxHeight>0?Math.min(r,a.maxHeight):r,t.height(r)}).one("mouseup",function(){r.off("mousemove")})},N=18,I=function(t,n){var r,i=e(t.target.parentNode),a=i.next(),o=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),l=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();r={x:t.pageX-c.left,y:t.pageY-c.top}}else r={x:t.offsetX,y:t.offsetY};var d={c:Math.ceil(r.x/N)||1,r:Math.ceil(r.y/N)||1};s.css({width:d.c+"em",height:d.r+"em"}),o.attr("data-value",d.c+"x"+d.r),3<d.c&&d.c<n.insertTableMaxSize.col&&l.css({width:d.c+1+"em"}),3<d.r&&d.r<n.insertTableMaxSize.row&&l.css({height:d.r+1+"em"}),a.html(d.c+" x "+d.r)},_=function(e,t){t?r.on("drop",function(e){e.preventDefault()}):A(e)},A=function(t){var n=e(),i=t.dropzone,a=t.dropzone.find(".note-dropzone-message");r.on("dragenter",function(e){var r=t.editor.hasClass("codeview");r||n.length||(t.editor.addClass("dragover"),i.width(t.editor.width()),i.height(t.editor.height()),a.text("Drag Image Here")),n=n.add(e.target)}).on("dragleave",function(e){n=n.not(e.target),n.length||t.editor.removeClass("dragover")}).on("drop",function(){n=e(),t.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),a.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),a.text("Drag Image Here")}),i.on("drop",function(e){e.preventDefault();var t=e.originalEvent.dataTransfer;if(t&&t.files){var n=g(e.currentTarget||e.target);n.editable().focus(),m(n.editable(),t.files)}}).on("dragover",!1)};this.bindKeyMap=function(e,t){var n=e.editor,r=e.editable;e=g(r),r.on("keydown",function(i){var a=[];i.metaKey&&a.push("CMD"),i.ctrlKey&&!i.altKey&&a.push("CTRL"),i.shiftKey&&a.push("SHIFT");var o=f.nameFromCode[i.keyCode];o&&a.push(o);var l=t[a.join("+")];l?(i.preventDefault(),s[l]?s[l](r,n.data("options")):v[l]&&v[l].call(this,e)):f.isEdit(i.keyCode)&&s.afterCommand(r)})},this.attach=function(e,t){this.bindKeyMap(e,t.keyMap[i.isMac?"mac":"pc"]),e.editable.on("mousedown",w),e.editable.on("keyup mouseup",S),e.editable.on("scroll",D),e.editable.on("paste",$),e.handle.on("mousedown",z),e.popover.on("click",F),e.popover.on("mousedown",R),t.airMode||(_(e,t.disableDragAndDrop),e.toolbar.on("click",F),e.toolbar.on("mousedown",R),t.disableResizeEditor||e.statusbar.on("mousedown",P));var n=t.airMode?e.popover:e.toolbar,r=n.find(".note-dimension-picker-mousecatcher");r.css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){I(e,t)}),e.editor.data("options",t),t.styleWithSpan&&!i.isMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var a=new y(e.editable);if(e.editable.data("NoteHistory",a),t.onenter&&e.editable.keypress(function(e){e.keyCode===f.ENTER&&t.onenter(e)}),t.onfocus&&e.editable.focus(t.onfocus),t.onblur&&e.editable.blur(t.onblur),t.onkeyup&&e.editable.keyup(t.onkeyup),t.onkeydown&&e.editable.keydown(t.onkeydown),t.onpaste&&e.editable.on("paste",t.onpaste),t.onToolbarClick&&e.toolbar.click(t.onToolbarClick),t.onChange){var o=function(){s.triggerOnChange(e.editable)};if(i.isMSIE){var l="DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted";e.editable.on(l,o)}else e.editable.on("input",o)}e.editable.data("callbacks",{onChange:t.onChange,onAutoSave:t.onAutoSave,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onFileUpload:t.onFileUpload,onFileUploadError:t.onFileUpload})},this.dettach=function(e,t){e.editable.off(),e.popover.off(),e.handle.off(),e.dialog.off(),t.airMode||(e.dropzone.off(),e.toolbar.off(),e.statusbar.off())}},D=function(){var t=function(e,t){var n=t.event,r=t.value,i=t.title,a=t.className,o=t.dropdown,s=t.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(a?" "+a:"")+(o?" dropdown-toggle":"")+'"'+(o?' data-toggle="dropdown"':"")+(i?' title="'+i+'"':"")+(n?' data-event="'+n+'"':"")+(r?" data-value='"+r+"'":"")+(s?" data-hide='"+s+"'":"")+' tabindex="-1">'+e+(o?' <span class="caret"></span>':"")+"</button>"+(o||"")},n=function(e,n){var r='<i class="'+e+'"></i>';return t(r,n)},r=function(e,t){return'<div class="'+e+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+t+"</div></div>"},o=function(e,t,n,r){return'<div class="'+e+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body"><div class="row-fluid">'+n+"</div></div>"+(r?'<div class="modal-footer">'+r+"</div>":"")+"</form></div></div></div>"},s={picture:function(e){return n("fa fa-picture-o icon-picture",{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e){return n("fa fa-link icon-link",{event:"showLinkDialog",title:e.link.link,hide:!0})},video:function(e){return n("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:e.video.video,hide:!0})},table:function(e){var t='<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>';return n("fa fa-table icon-table",{title:e.table.table,dropdown:t})},style:function(e,t){var r=t.styleTags.reduce(function(t,n){var r=e.style["p"===n?"normal":n];return t+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?r:"<"+n+">"+r+"</"+n+">")+"</a></li>"},"");return n("fa fa-magic icon-magic",{title:e.style.style,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},fontname:function(e,n){var r=n.fontNames.reduce(function(e,t){return i.isFontInstalled(t)?e+'<li><a data-event="fontName" href="#" data-value="'+t+'"><i class="fa fa-check icon-ok"></i> '+t+"</a></li>":e},""),a='<span class="note-current-fontname">'+n.defaultFontName+"</span>";return t(a,{title:e.font.name,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},fontsize:function(e,n){var r=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="fa fa-check icon-ok"></i> '+t+"</a></li>"},""),i='<span class="note-current-fontsize">11</span>';return t(i,{title:e.font.size,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},color:function(e){var n='<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',r=t(n,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),i='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+e.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+e.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">'+e.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>',a=t("",{title:e.color.more,dropdown:i});return r+a},bold:function(e){return n("fa fa-bold icon-bold",{event:"bold",title:e.font.bold})},italic:function(e){return n("fa fa-italic icon-italic",{event:"italic",title:e.font.italic})},underline:function(e){return n("fa fa-underline icon-underline",{event:"underline",title:e.font.underline})},strikethrough:function(e){return n("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e){return n("fa fa-superscript icon-superscript",{event:"superscript",title:e.font.superscript})},subscript:function(e){return n("fa fa-subscript icon-subscript",{event:"subscript",title:e.font.subscript})},clear:function(e){return n("fa fa-eraser icon-eraser",{event:"removeFormat",title:e.font.clear})},ul:function(e){return n("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e){return n("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e){var t=n("fa fa-align-left icon-align-left",{title:e.paragraph.left,event:"justifyLeft"}),r=n("fa fa-align-center icon-align-center",{title:e.paragraph.center,event:"justifyCenter"}),i=n("fa fa-align-right icon-align-right",{title:e.paragraph.right,event:"justifyRight"}),a=n("fa fa-align-justify icon-align-justify",{title:e.paragraph.justify,event:"justifyFull"}),o=n("fa fa-outdent icon-indent-left",{title:e.paragraph.outdent,event:"outdent"}),s=n("fa fa-indent icon-indent-right",{title:e.paragraph.indent,event:"indent"}),l='<div class="dropdown-menu"><div class="note-align btn-group">'+t+r+i+a+'</div><div class="note-list btn-group">'+s+o+"</div></div>";return n("fa fa-align-left icon-align-left",{title:e.paragraph.paragraph,dropdown:l})},height:function(e,t){var r=t.lineHeights.reduce(function(e,t){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(t)+'"><i class="fa fa-check icon-ok"></i> '+t+"</a></li>"},"");return n("fa fa-text-height icon-text-height",{title:e.font.height,dropdown:'<ul class="dropdown-menu">'+r+"</ul>"})},help:function(e){return n("fa fa-question icon-question",{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e){return n("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e){return n("fa fa-code icon-code",{event:"codeview",title:e.options.codeview})},undo:function(e){return n("fa fa-undo icon-undo",{event:"undo",title:e.history.undo})},redo:function(e){return n("fa fa-repeat icon-repeat",{event:"redo",title:e.history.redo})},hr:function(e){return n("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:e.hr.insert})}},l=function(e,i){var a=function(){var t=n("fa fa-edit icon-edit",{title:e.link.edit,event:"showLinkDialog",hide:!0}),i=n("fa fa-unlink icon-unlink",{title:e.link.unlink,event:"unlink"}),a='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+t+i+"</div>";return r("note-link-popover",a)},o=function(){var i=t('<span class="note-fontsize-10">100%</span>',{title:e.image.resizeFull,event:"resize",value:"1"}),a=t('<span class="note-fontsize-10">50%</span>',{title:e.image.resizeHalf,event:"resize",value:"0.5"}),o=t('<span class="note-fontsize-10">25%</span>',{title:e.image.resizeQuarter,event:"resize",value:"0.25"}),s=n("fa fa-align-left icon-align-left",{title:e.image.floatLeft,event:"floatMe",value:"left"}),l=n("fa fa-align-right icon-align-right",{title:e.image.floatRight,event:"floatMe",value:"right"}),c=n("fa fa-align-justify icon-align-justify",{title:e.image.floatNone,event:"floatMe",value:"none"}),d=n("fa fa-trash-o icon-trash",{title:e.image.remove,event:"removeMedia",value:"none"}),u='<div class="btn-group">'+i+a+o+'</div><div class="btn-group">'+s+l+c+'</div><div class="btn-group">'+d+"</div>";return r("note-image-popover",u)},l=function(){for(var t="",n=0,a=i.airPopover.length;a>n;n++){var o=i.airPopover[n];t+='<div class="note-'+o[0]+' btn-group">';for(var l=0,c=o[1].length;c>l;l++)t+=s[o[1][l]](e,i);t+="</div>"}return r("note-air-popover",t)};return'<div class="note-popover">'+a()+o()+(i.airMode?l():"")+"</div>"},d=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},u=function(e,t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+e+"</th></tr></thead><tbody>"+t+"</tbody></table>"},f=function(e){var t="<tr><td>⌘ + B</td><td>"+e.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+e.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+e.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+e.font.strikethrough+"</td></tr><tr><td>⌘ + \\</td><td>"+e.font.clear+"</td></tr>";return u(e.shortcut.textFormatting,t)},h=function(e){var t="<tr><td>⌘ + Z</td><td>"+e.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+e.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+e.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+e.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+e.hr.insert+"</td></tr>";return u(e.shortcut.action,t)},p=function(e){var t="<tr><td>⌘ + ⇧ + L</td><td>"+e.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+e.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+e.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+e.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+e.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+e.lists.unordered+"</td></tr>";return u(e.shortcut.paragraphFormatting,t)},g=function(e){var t="<tr><td>⌘ + NUM0</td><td>"+e.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+e.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+e.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+e.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+e.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+e.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+e.style.h6+"</td></tr>";return u(e.shortcut.documentStyle,t)},m=function(e,t){var n=t.extraKeys,r="";for(var i in n)n.hasOwnProperty(i)&&(r+="<tr><td>"+i+"</td><td>"+n[i]+"</td></tr>");return u(e.shortcut.extraKeys,r)},v=function(e,t){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+h(e,t)+"</td><td>"+f(e,t)+"</td></tr><tr><td>"+g(e,t)+"</td><td>"+p(e,t)+"</td></tr>";return t.extraKeys&&(n+='<tr><td colspan="2">'+m(e,t)+"</td></tr>"),n+="</tbody></table>"},b=function(e){return e.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")},y=function(e,t){var n=function(){var t='<div class="note-group-select-from-files"><h5>'+e.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /></div><h5>'+e.image.url+'</h5><input class="note-image-url form-control span12" type="text" />',n='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return o("note-image-dialog",e.image.insert,t,n)},r=function(){var n='<div class="form-group"><label>'+e.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group"><label>'+e.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label></div>"),r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return o("note-link-dialog",e.link.insert,n,r)},a=function(){var t='<div class="form-group"><label>'+e.video.url+'</label>&nbsp;<small class="text-muted">'+e.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div>',n='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+e.video.insert+"</button>";return o("note-video-dialog",e.video.insert,t,n)},s=function(){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+'</a><div class="title">'+e.shortcut.shortcuts+"</div>"+(i.isMac?v(e,t):b(v(e,t)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.9</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p>';return o("note-help-dialog","",n,"")};return'<div class="note-dialog">'+n()+r()+a()+s()+"</div>"},w=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},x=function(e){return i.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧")),e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},C=function(t,n,r){var i=a.invertObject(n),o=t.find("button");o.each(function(t,n){var r=e(n),a=i[r.data("event")];a&&r.attr("title",function(e,t){return t+" ("+x(a)+")"})}).tooltip({container:"body",trigger:"hover",placement:r||"top"}).on("click",function(){e(this).tooltip("hide")})},k=function(t,n){var r=n.colors;t.find(".note-color-palette").each(function(){for(var t=e(this),n=t.attr("data-target-event"),i=[],a=0,o=r.length;o>a;a++){for(var s=r[a],l=[],c=0,d=s.length;d>c;c++){var u=s[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',u,';" data-event="',n,'" data-value="',u,'" title="',u,'" data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(i.join(""))})};this.createLayoutByAirMode=function(t,n){var r=n.keyMap[i.isMac?"mac":"pc"],o=e.summernote.lang[n.lang],s=a.uniqueId();t.addClass("note-air-editor note-editable"),t.attr({id:"note-editor-"+s,contentEditable:!0});var c=document.body,u=e(l(o,n));u.addClass("note-air-layout"),u.attr("id","note-popover-"+s),u.appendTo(c),C(u,r),k(u,n);var f=e(d());f.addClass("note-air-layout"),f.attr("id","note-handle-"+s),f.appendTo(c);var h=e(y(o,n));h.addClass("note-air-layout"),h.attr("id","note-dialog-"+s),h.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),h.appendTo(c)},this.createLayoutByFrame=function(t,n){var r=e('<div class="note-editor"></div>');n.width&&r.width(n.width),n.height>0&&e('<div class="note-statusbar">'+(n.disableResizeEditor?"":w())+"</div>").prependTo(r);var a=!t.is(":disabled"),o=e('<div class="note-editable" contentEditable="'+a+'"></div>').prependTo(r);n.height&&o.height(n.height),n.direction&&o.attr("dir",n.direction),o.html(c.html(t)||c.emptyPara),e('<textarea class="note-codable"></textarea>').prependTo(r);for(var u=e.summernote.lang[n.lang],f="",h=0,p=n.toolbar.length;p>h;h++){var g=n.toolbar[h][0],m=n.toolbar[h][1];f+='<div class="note-'+g+' btn-group">';for(var v=0,b=m.length;b>v;v++)e.isFunction(s[m[v]])&&(f+=s[m[v]](u,n));f+="</div>"}f='<div class="note-toolbar btn-toolbar">'+f+"</div>";var x=e(f).prependTo(r),T=n.keyMap[i.isMac?"mac":"pc"];k(x,n),C(x,T,"bottom");var S=e(l(u,n)).prependTo(r);k(S,n),C(S,T),e(d()).prependTo(r);var D=e(y(u,n)).prependTo(r);D.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),e('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r),r.insertAfter(t),t.hide()},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():e()
},this.createLayout=function(e,t){this.noteEditorFromHolder(e).length||(t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t))},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(t.length){var n=c.buildLayoutInfo(t);for(var r in n)n.hasOwnProperty(r)&&(n[r]=n[r].call());return n}},this.removeLayout=function(e,t,n){n.airMode?(e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover.remove(),t.handle.remove(),t.dialog.remove()):(e.html(t.editable.html()),t.editor.remove(),e.show())}};e.summernote=e.summernote||{},e.extend(e.summernote,d);var $=new D,z=new S;e.fn.extend({summernote:function(t){if(t=e.extend({},e.summernote.options,t),this.each(function(n,r){var i=e(r);$.createLayout(i,t);var a=$.layoutInfoFromHolder(i);z.attach(a,t),c.isTextarea(i[0])&&i.closest("form").submit(function(){i.val(i.code())})}),this.first().length&&t.focus){var n=$.layoutInfoFromHolder(this.first());n.editable.focus()}return this.length&&t.oninit&&t.oninit(),this},code:function(t){if(void 0===t){var n=this.first();if(!n.length)return;var r=$.layoutInfoFromHolder(n);if(r&&r.editable){var a=r.editor.hasClass("codeview");return a&&i.hasCodeMirror&&r.codable.data("cmEditor").save(),a?r.codable.val():r.editable.html()}return c.isTextarea(n[0])?n.val():n.html()}return this.each(function(n,r){var i=$.layoutInfoFromHolder(e(r));i&&i.editable&&i.editable.html(t)}),this},destroy:function(){return this.each(function(t,n){var r=e(n),i=$.layoutInfoFromHolder(r);if(i&&i.editable){var a=i.editor.data("options");z.dettach(i,a),$.removeLayout(r,i,a)}}),this}})}),$(function(){var e=!0;setTimeout(function(){$(".avatar").css("visibility","visible").addClass("bounceInDown")},500),$(".sidebar-menu").metisMenu(),$("#summernote-textarea").summernote({height:300,lang:"hu-HU"}),$("[name='shows']").bootstrapSwitch({onText:"Igen",offText:"Nem",onColor:"success"}),$("#dateTimeStart").datetimepicker({format:"Y.m.d H:i",lang:"hu"}),$("#dateTimeEnd").datetimepicker({format:"Y.m.d H:i",lang:"hu"}),$("[name='tags']").tagsinput({freeInput:!0}),$.extend($.tablesorter.themes.bootstrap,{table:"table table-bordered table-condensed",caption:"caption",header:"",footerRow:"",footerCells:"",icons:"",sortNone:"fa fa-sort",sortAsc:"fa fa-sort-asc",sortDesc:"fa fa-sort-desc",active:"",hover:"",filterRow:"",even:"",odd:""}),$(".table-sortable").tablesorter({theme:"bootstrap",widthFixed:!1,emptyTo:"bottom",headerTemplate:"{content} {icon}",widgets:["uitheme","filter","zebra","saveSort"],widgetOptions:{zebra:["even","odd"],filter_reset:".reset",filter_cssFilter:"form-control input-sm"}}).tablesorterPager({container:$(".ts-pager"),cssGoto:".pagenum",savePages:!0,removeRows:!1,output:"{startRow} - {endRow} / {filteredRows} ({totalRows})"}),$(".sorter-false").find("i").remove().end().find(".tablesorter-header-inner").css("padding","0"),$("#checkAll").on("click",this,function(){$(this).is(":checked")?$('input[name="delete"]').prop("checked",!0):$('input[name="delete"]').prop("checked",!1)}),$("#deleteButton").on("click",this,function(){confirm("Biztos, hogy törlöd a kijelölt elemeket?")&&$("[name=delete]:checked").each(function(){var t=$(this);$.ajax({url:t.data("url"),type:"post",data:{_method:"delete"},dataType:"json",success:function(n,r,i){e&&(console.log(n),console.log(r),console.log(i)),n.status?(alertify.success('<i class="fa fa-check"></i> '+n.message),t.closest("tr").remove()):alertify.error('<i class="fa fa-times"></i> '+n.message)},error:function(t,n,r){e&&(console.log(t),console.log(n),console.log(r))}})})}),$(".btn-ajax").on("click",this,function(t){t.preventDefault();var n=$(this).closest(".form-ajax");$("#summernote-div").length>0&&$("#summernote-textarea").html($("#summernote-div").code()),$.ajax({url:n.attr("action"),method:n.attr("method"),data:n.serialize(),dataType:"json",success:function(t,n,r){e&&(console.log(t),console.log(n),console.log(r)),t.status?alertify.success('<i class="fa fa-check"></i> '+t.message):alertify.error('<i class="fa fa-times"></i> '+t.message)},error:function(t,n,r){e&&(console.log(t),console.log(n),console.log(r))}})});var t=$(".btn-upload"),n=$(".input-upload"),r=t.text();t.click(function(e){e.preventDefault(),n.click()}),n.change(function(){var e=$(this).get(0).files.length;t.text(e>0?r+": "+e+" fájl kiválasztva":r)}),$(".form-ajax-upload").each(function(){var t=$(this);$(this).fileupload({url:t.attr("action"),type:t.attr("method"),autoUpload:!0,dataType:"json",add:function(e,t){t.submit(),$(".btn-upload").addClass("disabled").html('<i class="fa fa-refresh fa-spin"></i> Töltés')},send:function(){},progress:function(e){var t=Math.round(e.loaded/e.total*100);$(".progress-bar").css("width",t+"%"),$(".progress-bar").text(t+"%")},fail:function(){$(".progress").addClass("progress-danger")},success:function(){},done:function(t,n){$.each(n.result,function(e,t){var n=$("<tr />");n.append('<td><a href="'+t.url+'" target="_blank"><img src="'+t.thumbnailUrl+'" width="100"/></a></td>'),n.append("<td>"+t.name+"</td>"),n.append('<td><a class="btn btn-sm btn-danger btn-ajax-delete" href="'+t.deleteUrl+'"><i class="fa fa-times"></i> Törlés</a></td>'),$(".table").find("tbody").append(n),$(".table").find("tbody").find(".table-empty").remove()}),$(".progress-bar").css("width",0),$(".progress-bar").text(""),$(".btn-upload").removeClass("disabled").html("Feltöltés"),$(".btn-ajax-delete").off("click").on("click",this,function(t){t.preventDefault();var n=$(this);$.ajax({url:n.attr("href"),method:"post",dataType:"json",success:function(e){e.status?(alertify.success('<i class="fa fa-check"></i> '+e.message),n.closest("tr").remove()):alertify.error('<i class="fa fa-ban"></i> '+e.message)},error:function(t,n,r){e&&(console.log(t),console.log(n),console.log(r))}})})}})}),$(".btn-ajax-delete").on("click",this,function(t){t.preventDefault();var n=$(this);$.ajax({url:n.attr("href"),method:"post",dataType:"json",success:function(e){e.status?(alertify.success('<i class="fa fa-check"></i> '+e.message),n.closest("tr").remove()):alertify.error('<i class="fa fa-ban"></i> '+e.message)},error:function(t,n,r){e&&(console.log(t),console.log(n),console.log(r))}})})});